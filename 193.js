"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[193],{44818:function(e,t,n){var a,r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=a(e),i=0;i<n.length;i++)"default"!==n[i]&&r(t,e,n[i]);return l(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Receiver=function(){var e=(0,o.useRef)(null);return(0,o.useEffect)((function(){u("//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"),window.castReceiverManager=cast.receiver.CastReceiverManager.getInstance(),window.castReceiverManager.onReady=function(e){window.castReceiverManager.setApplicationState("URL Cast ready...")},window.messageBus=window.castReceiverManager.getCastMessageBus("urn:x-cast:com.url.cast"),window.messageBus.onMessage=function(t){var n,a=JSON.parse(t.data);window.messageBus.send(t.senderId,"ok"),"iframe"===a.type&&(n=a.url,window.castReceiverManager.setApplicationState("Now Playing: "+n),e.current.src=n),"loc"===a.type&&function(e){window.castReceiverManager.setApplicationState("Now Playing: "+e),window.location.href=e}(a.url)},window.castReceiverManager.start({statusText:"URL Cast starting..."})}),[]),o.default.createElement("iframe",{ref:e,src:"",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,seamless:!0,id:"iframe"})},t.default=function(){return o.default.createElement("section",null,o.default.createElement("h2",null,"Cast Receiver"),o.default.createElement(d,null))};var o=i(n(22155)),c="5CB45E5A",s="urn:x-cast:com.url.cast",u=function(e,t){void 0===t&&(t="text/javascript");var n=Object.assign(document.createElement("script"),{type:t,src:e});document.head.appendChild(n)};function d(){var e=(0,o.useState)(!1),t=e[0],n=e[1],a=(0,o.useRef)(!1),r=(0,o.useRef)(null),l=(0,o.useRef)(null),i=(0,o.useRef)(null);function d(e){e||(r.current=null,n(!1)),console.log("Session is alive?: ",e)}function f(e,t){console.log("Receiver said: "+t)}function m(e){console.log("New session ID:"+e.sessionId),r.current=e,r.current.addUpdateListener(d),r.current.addMessageListener(s,f),n(!0)}function v(e){console.log("Err: "+JSON.stringify(e))}var g=(0,o.useCallback)((function(){chrome.cast.requestSession(m,console.info)}),[]),p=(0,o.useCallback)((function(){var e,t=i.current.value,o=l.current.value;t&&o&&(e={type:o,url:t},!a.current&&r.current&&(r.current.sendMessage(s,e,(function(){console.log("Message sent: ",e)}),v),"loc"===e.type&&(a.current=!0,n(!1))))}),[]);return(0,o.useEffect)((function(){function e(e){"available"===e?console.log("receiver found"):console.log("no receivers found")}u("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),window.__onGCastApiAvailable=function(t){console.log(["__onGCastApiAvailable"],{loaded:t}),t&&function(){var t=new chrome.cast.SessionRequest(c),n=new chrome.cast.ApiConfig(t,m,e);chrome.cast.initialize(n,function(e){console.log("Sucess: "+e)}.bind(this,"initialized ok"),v)}()}}),[]),o.default.createElement("div",null,o.default.createElement("button",{onClick:g},"Start cast session"),o.default.createElement("p",{id:"step2",className:"notready"},"Step 2: Send url"),o.default.createElement("input",{ref:i,id:"url",className:"border",type:"text",placeholder:"e.g. http://example.com",size:30,defaultValue:"https://www.windytv.com/",disabled:!t}),o.default.createElement("select",{ref:l,id:"type",defaultValue:"loc",disabled:!t},o.default.createElement("option",{value:"iframe"},"iframe"),o.default.createElement("option",{value:"loc"},"location")),o.default.createElement("button",{id:"send",disabled:!t,onClick:p},"send"),o.default.createElement("h3",null,"Details"),o.default.createElement("p",null,"There are two methods for casting, with pros and cons:"),o.default.createElement("ol",null,o.default.createElement("li",null,"Load an iframe (You will have trouble loading a url with x-frame-options: same origin.)"),o.default.createElement("li",null,"Change the window location (You will lose control when you load the url over the receiver.)")),o.default.createElement("p",null,"Also, notice the chromecast viewport is 1280x720 and the default background is black before the receiver loads."),o.default.createElement("p",null,o.default.createElement("a",{href:"https://github.com/DeMille/url-cast-receiver",rel:"noopener noreferrer",target:"_blank"},"github.com/DeMille/url-cast-receiver")))}},64193:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(44818);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(r).default}})}}]);
//# sourceMappingURL=193.js.map