"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[676],{1676:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var l=n(2983);const r=e=>Number.isFinite(e)?e:0;const i=e=>0===e||0n===e,o=(e,t)=>1===t||1n===t?e:`${e}s`,a=1e-7,s=24n*60n*60n*1000n;function c(e,t){const n="bigint"==typeof e;if(!n&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");(t={...t}).colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let l=[];const c=(e,n,r,a)=>{if(0!==l.length&&t.colonNotation||!i(e)||t.colonNotation&&"m"===r){if(a=a??String(e),t.colonNotation){const e=a.includes(".")?a.split(".")[0].length:a.length,t=l.length>0?2:1;a="0".repeat(Math.max(0,t-e))+a}else a+=t.verbose?" "+o(n,e):r;l.push(a)}},u=function(e){switch(typeof e){case"number":if(Number.isFinite(e))return function(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(r(1e3*e)%1e3),nanoseconds:Math.trunc(r(1e6*e)%1e3)}}(e);break;case"bigint":return function(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}(e)}throw new TypeError("Expected a finite number or bigint")}(e),m=BigInt(u.days);if(c(m/365n,"year","y"),c(m%365n,"day","d"),c(Number(u.hours),"hour","h"),c(Number(u.minutes),"minute","m"),t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){const e=Number(u.seconds),n=Number(u.milliseconds),l=Number(u.microseconds),r=Number(u.nanoseconds);if(c(e,"second","s"),t.formatSubMilliseconds)c(n,"millisecond","ms"),c(l,"microsecond","Âµs"),c(r,"nanosecond","ns");else{const e=n+l/1e3+r/1e6,i="number"==typeof t.millisecondsDecimalDigits?t.millisecondsDecimalDigits:0,o=e>=1?Math.round(e):Math.ceil(e),a=i?e.toFixed(i):o;c(Number.parseFloat(a),"millisecond","ms",a)}}else{const l=((e,t)=>{const n=Math.floor(e*10**t+a);return(Math.round(n)/10**t).toFixed(t)})((n?Number(e%s):e)/1e3%60,"number"==typeof t.secondsDecimalDigits?t.secondsDecimalDigits:1),r=t.keepDecimalsOnWholeSeconds?l:l.replace(/\.0+$/,"");c(Number.parseFloat(r),"second","s",r)}if(0===l.length)return"0"+(t.verbose?" milliseconds":"ms");const d=t.colonNotation?":":" ";return"number"==typeof t.unitCount&&(l=l.slice(0,Math.max(t.unitCount,1))),l.join(d)}var u=n(939),m=n(865);const d=e=>Number((((e.map((e=>e.split(/\s+/))).find((e=>e[5].match(/hostname/)))||[])[4]||"").match(/^(\d+)%/)||[])[1]),f=(0,m.k)((()=>fetch("status").then((e=>e.json())).then((({result:e})=>e)).catch((e=>(console.error(e),{databases:[],usage:[],cpus:[],hostname:null,platform:null,type:null,loadavg:null,freemem:0,totalmem:0,uptime:0})))));function h(){const e=f.read();return console.log({result:e}),console.log({total:d(e.usage)}),l.createElement("section",null,l.createElement("h2",null,"Status"),l.createElement("h3",null,"databases"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"name"),l.createElement("th",null,"size")),e.databases.map((({name:e,size:t},n)=>l.createElement("tr",{key:n},l.createElement("td",null,e),l.createElement("td",null,t)))))),l.createElement("h3",null,"disks"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"filesystem"),l.createElement("th",null,"size"),l.createElement("th",null,"used"),l.createElement("th",null,"avail"),l.createElement("th",null,"capacity")),e.usage.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("td",{colSpan:5},e)))))),l.createElement("h3",null,"cpus"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"model"),l.createElement("th",null,"speed"),l.createElement("th",null,"times")),e.cpus.map((({model:e,speed:t,times:n},r)=>l.createElement("tr",{key:r},l.createElement("td",null,e),l.createElement("td",null,t),l.createElement("td",null,l.createElement("pre",null,JSON.stringify(n,null,2)))))))),l.createElement("h3",null,"host"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"hostname"),l.createElement("th",null,"platform"),l.createElement("th",null,"type"),l.createElement("th",null,"loadavg")),[e].map((({hostname:e,platform:t,type:n,loadavg:r},i)=>l.createElement("tr",{key:i},l.createElement("td",null,e),l.createElement("td",null,t),l.createElement("td",null,n),l.createElement("td",null,l.createElement("pre",null,JSON.stringify(r,null,2)))))))),l.createElement("h3",null,"mem"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"freemem"),l.createElement("th",null,"totalmem"),l.createElement("th",null,"usage")),[e].map((({freemem:e,totalmem:t},n)=>l.createElement("tr",{key:n},l.createElement("td",null,(0,u.Z)(e)),l.createElement("td",null,(0,u.Z)(t)),l.createElement("td",null,(0,u.Z)(t-e))))))),l.createElement("h3",null,"uptime"),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",null,"uptime")),[e].map((({uptime:e},t)=>l.createElement("tr",{key:t},l.createElement("td",null,c(1e3*e))))))),l.createElement("pre",null,JSON.stringify(e,null,2)))}},4204:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var l,r,i;if(Array.isArray(t)){if((l=t.length)!=n.length)return!1;for(r=l;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((l=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=l;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=l;0!=r--;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},865:(e,t,n)=>{n.d(t,{k:()=>s});var l=n(4204),r=n.n(l);const i=[];function o(e,t,n,l=0,i=!1){for(const e of t)if(r()(n,e.args)){if(i)return;if(e.error)throw e.error;if(e.response)return e.response;throw e.promise}const o={args:n,promise:e(...n).then((e=>o.response=null==e||e)).catch((e=>o.error=null!=e?e:"unknown error")).then((()=>{l>0&&setTimeout((()=>{const e=t.indexOf(o);-1!==e&&t.splice(e,1)}),l)}))};if(t.push(o),!i)throw o.promise}function a(e,...t){if(void 0===t||0===t.length)e.splice(0,e.length);else{const n=e.find((e=>r()(t,e.args)));if(n){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}}function s(e,t=0){const n=[];return{read:(...l)=>o(e,n,l,t),preload:(...l)=>{o(e,n,l,t,!0)},clear:(...e)=>a(n,...e),peek:(...e)=>{var t;return null==(t=n.find((t=>r()(e,t.args))))?void 0:t.response}}}function c(e,...t){return o(e,i,t,c.lifespan)}c.lifespan=0,c.clear=(...e)=>a(i,...e),c.preload=(e,...t)=>{o(e,i,t,c.lifespan,!0)},c.peek=(...e)=>{var t;return null==(t=i.find((t=>r()(e,t.args))))?void 0:t.response}},939:(e,t,n)=>{n.d(t,{Z:()=>s});const l=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],r=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],o=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],a=(e,t,n)=>{let l=e;return"string"==typeof t||Array.isArray(t)?l=e.toLocaleString(t,n):!0!==t&&void 0===n||(l=e.toLocaleString(void 0,n)),l};function s(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const n=(t={bits:!1,binary:!1,space:!0,...t}).bits?t.binary?o:i:t.binary?r:l,s=t.space?" ":"";if(t.signed&&0===e)return` 0${s}${n[0]}`;const c=e<0,u=c?"-":t.signed?"+":"";let m;if(c&&(e=-e),void 0!==t.minimumFractionDigits&&(m={minimumFractionDigits:t.minimumFractionDigits}),void 0!==t.maximumFractionDigits&&(m={maximumFractionDigits:t.maximumFractionDigits,...m}),e<1)return u+a(e,t.locale,m)+s+n[0];const d=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);return e/=(t.binary?1024:1e3)**d,m||(e=e.toPrecision(3)),u+a(Number(e),t.locale,m)+s+n[d]}}}]);
//# sourceMappingURL=676.js.map