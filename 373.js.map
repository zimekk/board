{"version":3,"file":"373.js","mappings":"iLAaA,MAAMA,E,SAAcC,GAAOC,GAAG;;EASxBC,GAAUC,EAAAA,EAAAA,eAAoC,MAE9CC,EAAcC,SAClB,IAAIC,QAASC,IACX,MAAMN,EAAM,IAAIO,MAChBC,OAAOC,OAAOT,EAAK,CACjBU,OAAQA,IAAMJ,EAAQK,GACtBC,QAASA,IAAMN,EAAQK,GACvBA,UAIC,SAASE,GAAkB,SAAEC,IAClC,MAAMC,GAAWC,EAAAA,EAAAA,SAAQ,IAAM,IAAIC,EAAAA,EAAwB,IAkB3D,OAhBAC,EAAAA,EAAAA,iBAAgB,KACd,MAAMC,EAAeJ,EAClBK,MACCC,EAAAA,EAAAA,GAAIC,QAAQC,MACZC,EAAAA,EAAAA,GACE,EAAGb,MAAKL,aACN,IAAID,QAASC,GAAYmB,WAAWnB,EAAS,IAAKK,IAC/Ce,KAAKvB,GACLuB,KAAKpB,GACV,IAGHqB,UAAUL,QAAQC,KACrB,MAAO,IAAMJ,EAAaS,eACzB,IAEIC,EAAAA,cAAC5B,EAAQ6B,SAAQ,CAACC,MAAOhB,GAAWD,EAC7C,CAEO,SAASkB,GAAU,IAAErB,EAAG,MAAEsB,EAAK,OAAEC,IACtC,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,GACjCtB,GAAWuB,EAAAA,EAAAA,YAAWrC,GAS5B,OAPAsC,EAAAA,EAAAA,WAAU,KACR,IAAIlC,QAASC,IACXS,EAASyB,KAAK,CAAE7B,MAAKL,cACpBoB,KAAK,IAAMU,GAAW,IAClB,QACN,IAEID,EACLN,EAAAA,cAAC/B,EAAW,CACVa,IAAKA,EACLsB,MAAOA,EACPC,OAAQA,EACRO,eAAe,gBAEf,IACN,C,qCC3EA,SACE,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,8CACA,+CC9KF,SAASC,GAAK,KAAEC,IACd,MAAOC,EAAMC,IAAWR,EAAAA,EAAAA,WAAS,GAE3BS,GAAcC,EAAAA,EAAAA,aACjBC,IAAOA,EAAEC,iBAAkBJ,EAASD,IAAUA,IAC/C,IAGF,OACEf,EAAAA,cAAA,KAAGqB,KAAK,IAAIC,QAASL,EAAaM,MAAO,CAAEC,eAAgB,SACzDxB,EAAAA,cAAA,WAAMe,EAAOU,KAAKC,UAAUZ,EAAM,KAAM,GAAK,SAGnD,CAEA,SAASa,GAAK,KACZC,EACAN,QAASL,IAKT,MAAOY,EAAMC,IAAWtB,EAAAA,EAAAA,UAA0B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","sources":["webpack://@dev/web/../video/src/components/Image/index.tsx","webpack://@dev/web/../video/src/videos.ts","webpack://@dev/web/../video/src/containers/index.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useState,\n  type ComponentProps,\n  type ReactNode,\n} from \"react\";\nimport { Subject, mergeMap, tap } from \"rxjs\";\nimport styled from \"styled-components\";\n\nconst StyledImage = styled.img`\n  position: relative;\n`;\n\ninterface SubjectType {\n  src: string;\n  resolve: (value: unknown) => void;\n}\n\nconst Context = createContext<Subject<SubjectType>>(null);\n\nconst createImage = async (src: string) =>\n  new Promise((resolve) => {\n    const img = new Image();\n    Object.assign(img, {\n      onload: () => resolve(src),\n      onerror: () => resolve(src),\n      src,\n    });\n  });\n\nexport function LazyImageProvider({ children }: { children: ReactNode }) {\n  const subject$ = useMemo(() => new Subject<SubjectType>(), []);\n\n  useLayoutEffect(() => {\n    const subscription = subject$\n      .pipe(\n        tap(console.log),\n        mergeMap(\n          ({ src, resolve }) =>\n            new Promise((resolve) => setTimeout(resolve, 500, src))\n              .then(createImage)\n              .then(resolve),\n          3,\n        ),\n      )\n      .subscribe(console.log);\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return <Context.Provider value={subject$}>{children}</Context.Provider>;\n}\n\nexport function LazyImage({ src, width, height }: ComponentProps<\"img\">) {\n  const [visible, setVisible] = useState(false);\n  const subject$ = useContext(Context);\n\n  useEffect(() => {\n    new Promise((resolve) => {\n      subject$.next({ src, resolve });\n    }).then(() => setVisible(true));\n    return () => {};\n  }, []);\n\n  return visible ? (\n    <StyledImage\n      src={src}\n      width={width}\n      height={height}\n      referrerPolicy=\"no-referrer\"\n    />\n  ) : null;\n}\n","export default [\n  \"https://www.youtube.com/watch?v=G7KNmW9a75Y\",\n  \"https://www.youtube.com/watch?v=yxW5yuzVi8w\",\n  \"https://www.youtube.com/watch?v=BilaShsQphM\",\n  \"https://www.youtube.com/watch?v=Fp_P_e1cPOE\",\n  \"https://www.youtube.com/watch?v=XXYlFuWEuKI\",\n  \"https://www.youtube.com/watch?v=a0q6JMuLBYQ\",\n  \"https://www.youtube.com/watch?v=b6U3xeYqdKQ\",\n  \"https://www.youtube.com/watch?v=4qvBnEgCvkc\",\n  \"https://www.youtube.com/watch?v=m8_8tMzmpTg\",\n  \"https://www.youtube.com/watch?v=j4IXCjWnAkY\",\n  \"https://www.youtube.com/watch?v=gCadlN8fexk\",\n  \"https://www.youtube.com/watch?v=aAkMkVFwAoo\",\n  \"https://www.youtube.com/watch?v=E8gmARGvPlI\",\n  \"https://www.youtube.com/watch?v=L4QxmPMplYc\",\n  \"https://www.youtube.com/watch?v=WJvtX-Ec1S8\",\n  \"https://www.youtube.com/watch?v=wXWZiGnaeqo\",\n  \"https://www.youtube.com/watch?v=OiC1rgCPmUQ\",\n  \"https://www.youtube.com/watch?v=suAR1PYFNYA\",\n  \"https://www.youtube.com/watch?v=ekmHAfUIu1M\",\n  \"https://www.youtube.com/watch?v=YFoDEQXJLcQ\",\n  \"https://www.youtube.com/watch?v=6vEeOfkwXwc\",\n  \"https://www.youtube.com/watch?v=DsoWvXDMo1c\",\n  \"https://www.youtube.com/watch?v=TdZyXgadFG0\",\n  \"https://www.youtube.com/watch?v=NZqEICgKwrw\",\n  \"https://www.youtube.com/watch?v=4TYv2PhG89A\",\n  \"https://www.youtube.com/watch?v=XrsbfrFPATs\",\n  \"https://www.youtube.com/watch?v=U2waT9TxPU0\",\n  \"https://www.youtube.com/watch?v=Uq9gPaIzbe8\",\n  \"https://www.youtube.com/watch?v=5FNCukepaS8\",\n  \"https://www.youtube.com/watch?v=4m1EFMoRFvY\",\n  \"https://www.youtube.com/watch?v=6Mgqbai3fKo\",\n  \"https://www.youtube.com/watch?v=59Q_lhgGANc\",\n  \"https://www.youtube.com/watch?v=oC-GflRB0y4\",\n  \"https://www.youtube.com/watch?v=c8WDzsqQ7UY\",\n  \"https://www.youtube.com/watch?v=GKTV6-9ONzE\",\n  \"https://www.youtube.com/watch?v=PQZhN65vq9E\",\n  \"https://www.youtube.com/watch?v=lY2yjAdbvdQ\",\n  \"https://www.youtube.com/watch?v=8GotXeCwUnc\",\n  \"https://www.youtube.com/watch?v=PUdyuKaGQd4\",\n  \"https://www.youtube.com/watch?v=hT_nvWreIhg\",\n  \"https://www.youtube.com/watch?v=L1v7hXEQhsQ\",\n  \"https://www.youtube.com/watch?v=wbOTkDn49qI\",\n  \"https://www.youtube.com/watch?v=7jMlFXouPk8\",\n  \"https://www.youtube.com/watch?v=HrxX9TBj2zY\",\n  \"https://www.youtube.com/watch?v=ghSh-xqJX8A\",\n  \"https://www.youtube.com/watch?v=b_zHQ6kFuQ0\",\n  \"https://www.youtube.com/watch?v=0-EF60neguk\",\n  \"https://www.youtube.com/watch?v=u1ZoHfJZACA\",\n  \"https://www.youtube.com/watch?v=d8OI9FllKfg\",\n  \"https://www.youtube.com/watch?v=VYG1-czlu2s\",\n  \"https://www.youtube.com/watch?v=ywQvbGcCIEk\",\n  \"https://www.youtube.com/watch?v=1sM89qLmd9Y\",\n  \"https://www.youtube.com/watch?v=a5irTX82olg\",\n  \"https://www.youtube.com/watch?v=LMOKlXfXn50\",\n  \"https://www.youtube.com/watch?v=u3u22OYqFGo\",\n  \"https://www.youtube.com/watch?v=tbbKjDjMDok\",\n  \"https://www.youtube.com/watch?v=RIsgWYVXIcA\",\n  \"https://www.youtube.com/watch?v=d5wURLqNTXE\",\n  \"https://www.youtube.com/watch?v=S2TaAcwC_zI\",\n  \"https://www.youtube.com/watch?v=WjLcVqjIkLo\",\n  \"https://www.youtube.com/watch?v=Ps2Jc28tQrw\",\n  \"https://www.youtube.com/watch?v=JYIaWeVL1JM\",\n  \"https://www.youtube.com/watch?v=pvmNeNd5SYk\",\n  \"https://www.youtube.com/watch?v=noezMrwMGuY\",\n  \"https://www.youtube.com/watch?v=9EcjWd-O4jI\",\n  \"https://www.youtube.com/watch?v=aBJZsHDJvf0\",\n  \"https://www.youtube.com/watch?v=oW0VovnyjPY\",\n  \"https://www.youtube.com/watch?v=dBLr0PKjXDw\",\n  \"https://www.youtube.com/watch?v=4uPDfuC3Jck\",\n  \"https://www.youtube.com/watch?v=iM5c0L5nqfs\",\n  \"https://www.youtube.com/watch?v=A3I8BISQfWc\",\n  \"https://www.youtube.com/watch?v=ePNUSmH3dMI\",\n  \"https://www.youtube.com/watch?v=ePwwMgrPMW8\",\n  \"https://www.youtube.com/watch?v=mQQKZ5cgybU\",\n  \"https://www.youtube.com/watch?v=ypbjIwbTR8c\",\n  \"https://www.youtube.com/watch?v=238Z4YaAr1g\",\n  \"https://www.youtube.com/watch?v=GZ3zL7kT6_c\",\n  \"https://www.youtube.com/watch?v=RF0HhrwIwp0\",\n  \"https://www.youtube.com/watch?v=_YZdxlQHLeA\",\n  \"https://www.youtube.com/watch?v=Bv9fkbj3Rug\",\n  \"https://www.youtube.com/watch?v=5vheNbQlsyU\",\n  \"https://www.youtube.com/watch?v=2e4oRKhilhA\",\n  \"https://www.youtube.com/watch?v=xpLS7tpVWMM\",\n  \"https://www.youtube.com/watch?v=Oa_RSwwpPaA\",\n  \"https://www.youtube.com/watch?v=L6c_NhXeGYo\",\n  \"https://www.youtube.com/watch?v=aeEXJLeGvXQ\",\n  \"https://www.youtube.com/watch?v=HxL19VWL9TM\",\n  \"https://www.youtube.com/watch?v=uIBJJ3M76Mg\",\n  \"https://www.youtube.com/watch?v=a9cyG_yfh1k\",\n  \"https://www.youtube.com/watch?v=AYtsxZi953Y\",\n  \"https://www.youtube.com/watch?v=jsptjaAef7Q\",\n  \"https://www.youtube.com/watch?v=SgPJuWnLZ60\",\n  \"https://www.youtube.com/watch?v=uZra8gqumgc\",\n  \"https://www.youtube.com/watch?v=npPaN-n7gCk\",\n  \"https://www.youtube.com/watch?v=8ocWUGARCB0\",\n  \"https://www.youtube.com/watch?v=p6Cnazi_Fi0\",\n  \"https://www.youtube.com/watch?v=Qk6ORaBvrVw\",\n  \"https://www.youtube.com/watch?v=r949w5hPVeA\",\n  \"https://www.youtube.com/watch?v=iQs9XDPXHJ4\",\n  \"https://www.youtube.com/watch?v=gEaZZ2ogZjI\",\n  \"https://www.youtube.com/watch?v=tXnBWWLUG2I\",\n  \"https://www.youtube.com/watch?v=s97Mb1TZqbU\",\n  \"https://www.youtube.com/watch?v=d5gf9dXbPi0\",\n  \"https://www.youtube.com/watch?v=Tt6LzbcNJP0\",\n  \"https://www.youtube.com/watch?v=4EAv2s8jZgo\",\n  \"https://www.youtube.com/watch?v=m8iP8pXgbbg\",\n  \"https://www.youtube.com/watch?v=7F19Rzpuxvo\",\n  \"https://www.youtube.com/watch?v=io01QxMmAi4\",\n  \"https://www.youtube.com/watch?v=Cj9w2lCxuLM\",\n  \"https://www.youtube.com/watch?v=y_VZqge2CHU\",\n  \"https://www.youtube.com/watch?v=swp3rxriy1w\",\n  \"https://www.youtube.com/watch?v=pKwQlm-wldA\",\n  \"https://www.youtube.com/watch?v=budgKKmf7l4\",\n  \"https://www.youtube.com/watch?v=_CL6n0FJZpk\",\n  \"https://www.youtube.com/watch?v=fPO76Jlnz6c\",\n  \"https://www.youtube.com/watch?v=NKMtZm2YuBE\",\n  \"https://www.youtube.com/watch?v=EWMY-JKFhL4\",\n  \"https://www.youtube.com/watch?v=4Cc1R1QSPuE\",\n  \"https://www.youtube.com/watch?v=PZK5qWaVkyI\",\n  \"https://www.youtube.com/watch?v=t2Q4hAQ4fEw\",\n  \"https://www.youtube.com/watch?v=pGBOIKjZatY\",\n  \"https://www.youtube.com/watch?v=gNdGXID7YT8\",\n  \"https://www.youtube.com/watch?v=Wg92RrNhB8s\",\n  \"https://www.youtube.com/watch?v=Qh8QwVYOSVU\",\n  \"https://www.youtube.com/watch?v=kPa7bsKwL-c\",\n  \"https://www.youtube.com/watch?v=OmLNs6zQIHo\",\n  \"https://www.youtube.com/watch?v=MSRcC626prw\",\n  \"https://www.youtube.com/watch?v=Eco4z98nIQY\",\n  \"https://www.youtube.com/watch?v=Se6csDteIUY\",\n  \"https://www.youtube.com/watch?v=TBsKCT4rsPw\",\n  \"https://www.youtube.com/watch?v=HhZaHf8RP6g\",\n  \"https://www.youtube.com/watch?v=u0sp-2dF3ME\",\n  \"https://www.youtube.com/watch?v=ztnCnXE8MJ4\",\n  \"https://www.youtube.com/watch?v=k-k2_Liofy8\",\n  \"https://www.youtube.com/watch?v=4m1ZYpricTk\",\n  \"https://www.youtube.com/watch?v=0YVvcTIGy40\",\n  \"https://www.youtube.com/watch?v=avBKJJgKJMc\",\n  \"https://www.youtube.com/watch?v=CWeHepZwiXc\",\n  \"https://www.youtube.com/watch?v=AS8Q_5knkrg\",\n  \"https://www.youtube.com/watch?v=x7g_SWE90O8\",\n  \"https://www.youtube.com/watch?v=NMvMR-jNSKg\",\n  \"https://www.youtube.com/watch?v=KDXOzr0GoA4\",\n  \"https://www.youtube.com/watch?v=MARsW26KXQg\",\n  \"https://www.youtube.com/watch?v=kg1BljLu9YY\",\n  \"https://www.youtube.com/watch?v=J75enyWdbBM\",\n  \"https://www.youtube.com/watch?v=LlY90lG_Fuw\",\n  \"https://www.youtube.com/watch?v=TGtWWb9emYI\",\n  \"https://www.youtube.com/watch?v=jR_j-LPLBvU\",\n  \"https://www.youtube.com/watch?v=gEiqSUzQ1fo\",\n  \"https://www.youtube.com/watch?v=iyLdoQGBchQ\",\n  \"https://www.youtube.com/watch?v=oYqTeQJbAPk\",\n  \"https://www.youtube.com/watch?v=S2fSojJqyNY\",\n  \"https://www.youtube.com/watch?v=LXuSOkf2M3c\",\n  \"https://www.youtube.com/watch?v=UfiYPq7-M3E\",\n  \"https://www.youtube.com/watch?v=bZxrIoCPsOc\",\n  \"https://www.youtube.com/watch?v=M97vR2V4vTs\",\n  \"https://www.youtube.com/watch?v=pjTj-_55WZ8\",\n  \"https://www.youtube.com/watch?v=MI9ZpIKgyf0\",\n  \"https://www.youtube.com/watch?v=kOzAL-shS1o\",\n  \"https://www.youtube.com/watch?v=KID4GPQoTzA\",\n  \"https://www.youtube.com/watch?v=CNPLehoqXnU\",\n  \"https://www.youtube.com/watch?v=01lftK-dH20\",\n  \"https://www.youtube.com/watch?v=vBynw9Isr28\",\n  \"https://www.youtube.com/watch?v=iJRw-1da24c\",\n  \"https://www.youtube.com/watch?v=o8RcHrz2-uU\",\n  \"https://www.youtube.com/watch?v=CfihYWRWRTQ\",\n  \"https://www.youtube.com/watch?v=d4AYz3Xro0E\",\n  \"https://www.youtube.com/watch?v=kGU_-fnSQI8\",\n  \"https://www.youtube.com/watch?v=amgdlvPSAP8\",\n  \"https://www.youtube.com/watch?v=ETZ96rSw25g\",\n  \"https://www.youtube.com/watch?v=F913mH_4TUM\",\n  \"https://www.youtube.com/watch?v=VT2qF97pQNw\",\n  \"https://www.youtube.com/watch?v=nd8RD3tjNQE\",\n  \"https://www.youtube.com/watch?v=JLNDScHHLIQ\",\n  \"https://www.youtube.com/watch?v=ph-JMl5AtTU\",\n  \"https://www.youtube.com/watch?v=dpvQqmX6SUI\",\n  \"https://www.youtube.com/watch?v=u2ah9tWTkmk\",\n  \"https://www.youtube.com/watch?v=ekr2nIex040\",\n  \"https://www.youtube.com/watch?v=cswfR85D7jM\",\n  \"https://www.youtube.com/watch?v=BAkqJT_sMKQ\",\n  \"https://www.youtube.com/watch?v=7zp1TbLFPp8\",\n  \"https://www.youtube.com/watch?v=dmhqDfsOVV4\",\n  \"https://www.youtube.com/watch?v=BG5ef-QOFRw\",\n  \"https://www.youtube.com/watch?v=pzGIAhqlblM\",\n  \"https://www.youtube.com/watch?v=m7cDbjuZ5lI\",\n  \"https://www.youtube.com/watch?v=E6l5ezErGuw\",\n  \"https://www.youtube.com/watch?v=Yg9GE54YEM4\",\n  \"https://www.youtube.com/watch?v=qWHzH6UlDDU\",\n  \"https://www.youtube.com/watch?v=ZnkeaLUT1x4\",\n  \"https://www.youtube.com/watch?v=ml9Ktn073So\",\n  \"https://www.youtube.com/watch?v=ca48oMV59LU\",\n];\n","import React, {\n  useCallback,\n  useEffect,\n  useState,\n  type ChangeEventHandler,\n  type MouseEventHandler,\n} from \"react\";\n// import ReactPlayer from \"react-player/youtube\";\nimport { LazyImage, LazyImageProvider } from \"../components/Image\";\nimport ReactPlayer from \"../components/ReactPlayer\";\nimport { Spinner } from \"../components/Spinner\";\nimport {\n  BasicInfoSchema as InfoSchema,\n  type BasicInfoType as InfoType,\n} from \"../schema\";\nimport videos from \"../videos\";\n\nfunction Data({ data }: { data: object }) {\n  const [show, setShow] = useState(false);\n\n  const handleClick = useCallback<MouseEventHandler<HTMLAnchorElement>>(\n    (e) => (e.preventDefault(), setShow((show) => !show)),\n    [],\n  );\n\n  return (\n    <a href=\"#\" onClick={handleClick} style={{ textDecoration: \"none\" }}>\n      <pre>{show ? JSON.stringify(data, null, 2) : `[...]`}</pre>\n    </a>\n  );\n}\n\nfunction Info({\n  link,\n  onClick: handleClick,\n}: {\n  link: string;\n  onClick: MouseEventHandler<HTMLAnchorElement>;\n}) {\n  const [info, setInfo] = useState<InfoType | null>(null);\n\n  useEffect(() => {\n    fetch(`video/info?videoId=${link}`)\n      .then((res) => res.json())\n      .then((info) => InfoSchema.parseAsync(info))\n      .then(setInfo);\n  }, []);\n\n  return info ? (\n    <div>\n      {info.videoDetails.thumbnails\n        .slice(0, 1)\n        .map(({ url, width, height }, key) => (\n          <div key={key}>\n            <a href={link} onClick={handleClick}>\n              <LazyImage src={url} width={width} height={height} />\n            </a>\n            <div>\n              <strong>{info.videoDetails.title}</strong>\n            </div>\n          </div>\n        ))}\n      <Data data={info} />\n    </div>\n  ) : (\n    <Spinner />\n  );\n}\n\nfunction List() {\n  const [selected, setSelected] = useState<string[]>(() => []);\n  const [videoId, setVideoId] = useState(\"\");\n  const [list] = useState(() => videos);\n\n  useEffect(() => {\n    fetch(\"video\")\n      .then((res) => res.json())\n      .then(console.info);\n  }, []);\n\n  const handleClick = useCallback<MouseEventHandler<HTMLAnchorElement>>(\n    (e) => (\n      e.preventDefault(),\n      ((videoId) => setVideoId(videoId))(e.currentTarget.href)\n    ),\n    [],\n  );\n\n  const handleClickDownload = useCallback<MouseEventHandler<HTMLAnchorElement>>(\n    (e) => (\n      e.preventDefault(),\n      ((videoId) =>\n        fetch(`video/download-video?videoId=${videoId}`)\n          .then((res) => res.json())\n          .then(console.info))(e.currentTarget.href)\n    ),\n    [],\n  );\n\n  const handleClickDownloadAudio = useCallback<\n    MouseEventHandler<HTMLAnchorElement>\n  >(\n    (e) => (\n      e.preventDefault(),\n      ((videoId) =>\n        fetch(`video/download-audio?videoId=${videoId}`)\n          .then((res) => res.json())\n          .then(console.info))(e.currentTarget.href)\n    ),\n    [],\n  );\n\n  const handleSelect = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setSelected((selected) =>\n        !target.checked\n          ? selected.filter((value) => value !== target.value)\n          : selected.concat(target.value),\n      ),\n    [],\n  );\n\n  const handleSelectAll = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) => setSelected(() => (!target.checked ? [] : list)),\n    [],\n  );\n\n  return (\n    <div>\n      <div>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={selected.length === list.length}\n            onChange={handleSelectAll}\n          />\n          <span>select all</span>{\" \"}\n        </label>\n      </div>\n      <ul style={{ paddingBottom: \"1em\" }}>\n        {list.map((link) => (\n          <li key={link}>\n            <input\n              type=\"checkbox\"\n              value={link}\n              checked={selected.includes(link)}\n              onChange={handleSelect}\n            />\n            <a\n              href={link}\n              onClick={handleClick}\n              style={link === videoId ? { color: \"purple\" } : {}}\n            >\n              {link}\n            </a>\n            [\n            <a href={link} onClick={handleClickDownload}>\n              download\n            </a>\n            ][\n            <a href={link} onClick={handleClickDownloadAudio}>\n              download-audio\n            </a>\n            ]\n            {selected.includes(link) && (\n              <Info link={link} onClick={handleClick} />\n            )}\n          </li>\n        ))}\n      </ul>\n      <div\n        style={{\n          position: \"fixed\",\n          bottom: 0,\n          right: 0,\n          border: \"2px solid black\",\n        }}\n      >\n        {videoId && (\n          <ReactPlayer\n            src={videoId}\n            width={320}\n            height={180}\n            controls\n            light\n            loop\n            pip\n            playing\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <section>\n      <h2>Video</h2>\n      <LazyImageProvider>\n        <List />\n      </LazyImageProvider>\n    </section>\n  );\n}\n"],"names":["StyledImage","styled","img","Context","createContext","createImage","async","Promise","resolve","Image","Object","assign","onload","src","onerror","LazyImageProvider","children","subject$","useMemo","Subject","useLayoutEffect","subscription","pipe","tap","console","log","mergeMap","setTimeout","then","subscribe","unsubscribe","React","Provider","value","LazyImage","width","height","visible","setVisible","useState","useContext","useEffect","next","referrerPolicy","Data","data","show","setShow","handleClick","useCallback","e","preventDefault","href","onClick","style","textDecoration","JSON","stringify","Info","link","info","setInfo","fetch","res","json","InfoSchema","parseAsync","videoDetails","thumbnails","slice","map","url","key","title","Spinner","List","selected","setSelected","videoId","setVideoId","list","videos","currentTarget","handleClickDownload","handleClickDownloadAudio","handleSelect","target","checked","concat","filter","handleSelectAll","type","length","onChange","paddingBottom","includes","color","position","bottom","right","border","ReactPlayer","controls","light","loop","pip","playing","Section"],"sourceRoot":""}