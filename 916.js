"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[916],{916:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(784);const l=[];function o(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let l=0;l<r;l++)if(!n(e[l],t[l]))return!1;return!0}const a=(e,t,n)=>function(e,t,n=!1,r={}){for(const e of l)if(o(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return r.lifespan&&r.lifespan>0&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(e.remove,r.lifespan)),e.response;if(!n)throw e.promise}const a={keys:t,equal:r.equal,remove:()=>{const e=l.indexOf(a);-1!==e&&l.splice(e,1)},promise:e(...t).then((e=>{a.response=e,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))})).catch((e=>a.error=e))};if(l.push(a),!n)throw a.promise}(e,t,!1,n);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const s=({title:e,onPress:t,...n})=>r.createElement("button",c({onClick:t},n),e),u=({title:e,onPress:t})=>r.createElement("a",{href:"#",onClick:t?e=>(e.preventDefault(),t(e)):void 0},e),i="div",p="div";function f({uri:e,loop:t}){const[n,l]=(0,r.useState)(!1),o=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=o.current;if(e){const t=e=>(console.log(["play"],e),l(!0)),n=e=>(console.log(["pause"],e),l(!1));return e.addEventListener("play",t),e.addEventListener("pause",n),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",n)}}}),[o]),r.createElement(p,null,n?r.createElement(s,{title:"Pause",onPress:async function(){o.current&&o.current.pause()}}):r.createElement(s,{title:"Play",onPress:async function(){o.current&&o.current.play()},disabled:!e}),r.createElement("audio",{ref:o,src:e,loop:t,autoPlay:!0,controls:!0}))}function m(){return r.createElement(p,null,r.createElement(i,null,"Loading..."))}function E({data:e,expanded:t=!1}){const[n,l]=(0,r.useState)(t);return r.createElement("pre",null,n?JSON.stringify(e,null,2):r.createElement(r.Fragment,null,"[",r.createElement("a",{href:"#",onClick:e=>(e.preventDefault(),l(!0))},"..."),"]"))}const{API_URL:d=""}={};function h({version:e=1}){const[t,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(),c=a((async()=>(await fetch(`${d}/api/audio?${e}`)).json()),[e]),s=(0,r.useMemo)((()=>(c||[]).map((e=>({name:e,href:`${d}/api/audio/${encodeURIComponent(e)}`})))),[c]);return console.log({list:s}),r.createElement(p,null,r.createElement("ul",null,s.map((({name:e,href:t},n)=>r.createElement("li",{key:n},r.createElement(u,{title:e,onPress:()=>o(t)}))))),r.createElement(f,{uri:l,loop:t}),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:t,onChange:({target:e})=>n(e.checked)}),r.createElement("span",null,"loop")),r.createElement(E,{data:c}))}function v(){return r.createElement(p,null,r.createElement(i,null,`API_URL: ${d}`),r.createElement(r.Suspense,{fallback:r.createElement(m,null)},r.createElement(h,null)))}}}]);
//# sourceMappingURL=916.js.map