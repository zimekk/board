"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[916],{916:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(784);const l=[];function o(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let l=0;l<r;l++)if(!n(e[l],t[l]))return!1;return!0}const u=(e,t,n)=>function(e,t,n=!1,r={}){for(const e of l)if(o(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return r.lifespan&&r.lifespan>0&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(e.remove,r.lifespan)),e.response;if(!n)throw e.promise}const u={keys:t,equal:r.equal,remove:()=>{const e=l.indexOf(u);-1!==e&&l.splice(e,1)},promise:e(...t).then((e=>{u.response=e,r.lifespan&&r.lifespan>0&&(u.timeout=setTimeout(u.remove,r.lifespan))})).catch((e=>u.error=e))};if(l.push(u),!n)throw u.promise}(e,t,!1,n),s=({title:e,onPress:t})=>r.createElement("button",{onClick:t},e),a="div",c="div";function i({uri:e}){const[t,n]=(0,r.useState)(!1),l=(0,r.useRef)(null);return r.createElement(c,null,t?r.createElement(s,{title:"Pause",onPress:async function(){l.current&&(n(!1),l.current.pause())}}):r.createElement(s,{title:"Play",onPress:async function(){l.current&&(n(!0),l.current.play())}}),r.createElement("audio",{ref:l,src:e}))}function f(){return r.createElement(c,null,r.createElement(a,null,"Loading..."))}const{API_URL:m=""}={};function p({version:e=1}){const[t,n]=(0,r.useState)(),l=u((async()=>(await fetch(`${m}/api/audio?${e}`)).json()),[e]),o=(0,r.useMemo)((()=>(l||[]).map((e=>({name:e,href:`${m}/api/audio/${encodeURIComponent(e)}`})))),[l]);return console.log({list:o}),r.createElement(c,null,o.map((({name:e,href:t},l)=>r.createElement(s,{key:l,title:e,onPress:()=>n(t)}))),t&&r.createElement(i,{key:t,uri:t}),r.createElement(a,null,JSON.stringify(l,null,2)))}function h(){return r.createElement(c,null,r.createElement(a,null,`API_URL: ${m}`),r.createElement(r.Suspense,{fallback:r.createElement(f,null)},r.createElement(p,null)))}}}]);
//# sourceMappingURL=916.js.map