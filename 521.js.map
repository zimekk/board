{"version":3,"file":"521.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/Scheduler.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/async.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js","webpack://@dev/web/../../node_modules/.pnpm/chunk@0.0.3/node_modules/chunk/src/chunk.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://@dev/web/../../node_modules/.pnpm/milliseconds@1.0.3/node_modules/milliseconds/milliseconds.js","webpack://@dev/web/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","webpack://@dev/web/../../node_modules/.pnpm/pretty-bytes@7.0.1/node_modules/pretty-bytes/index.js","webpack://@dev/web/../schema/src/index.ts","webpack://@dev/web/../scrap/src/components/Spinner/index.tsx","webpack://@dev/web/../scrap/src/components/Fieldset/index.tsx","webpack://@dev/web/../scrap/src/components/Link/index.tsx","webpack://@dev/web/../scrap/src/records.ts","webpack://@dev/web/../scrap/src/containers/Process.tsx","webpack://@dev/web/../scrap/src/containers/Entries.tsx","webpack://@dev/web/../scrap/src/containers/Failed.tsx","webpack://@dev/web/../scrap/src/containers/Delayed.tsx","webpack://@dev/web/../scrap/src/containers/index.tsx"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var intervalProvider = {\n    setInterval: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = intervalProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setInterval.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearInterval: function (handle) {\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        var _a;\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, _delay) {\n        var errored = false;\n        var errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, id = _a.id, scheduler = _a.scheduler;\n            var actions = scheduler.actions;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar Scheduler = (function () {\n    function Scheduler(schedulerActionCtor, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    };\n    Scheduler.now = dateTimestampProvider.now;\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this._active = false;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return operate(function (source, subscriber) {\n        var activeTask = null;\n        var lastValue = null;\n        var lastTime = null;\n        var emit = function () {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                var value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            var targetTime = lastTime + dueTime;\n            var now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, function () {\n            emit();\n            subscriber.complete();\n        }, undefined, function () {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounceTime.js.map","\"use strict\";\r\n\r\n(function () {\r\n  function chunk(collection, size) {\r\n    var result = [];\r\n\r\n    // default size to two item\r\n    size = parseInt(size) || 2;\r\n\r\n    // add each chunk to the result\r\n    for (var x = 0; x < Math.ceil(collection.length / size); x++) {\r\n      var start = x * size;\r\n      var end = start + size;\r\n\r\n      result.push(collection.slice(start, end));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // export in node or browser\r\n  if (typeof exports !== \"undefined\") {\r\n    if (typeof module !== \"undefined\" && module.exports) {\r\n      exports = module.exports = chunk;\r\n    }\r\n    exports.chunk = chunk;\r\n  } else {\r\n    this.chunk = chunk;\r\n  }\r\n}.call(this));\r\n","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","function calc(m) {\n    return function(n) { return Math.round(n * m); };\n};\nmodule.exports = {\n    seconds: calc(1e3),\n    minutes: calc(6e4),\n    hours: calc(36e5),\n    days: calc(864e5),\n    weeks: calc(6048e5),\n    months: calc(26298e5),\n    years: calc(315576e5)\n};\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","const BYTE_UNITS = [\n\t'B',\n\t'kB',\n\t'MB',\n\t'GB',\n\t'TB',\n\t'PB',\n\t'EB',\n\t'ZB',\n\t'YB',\n];\n\nconst BIBYTE_UNITS = [\n\t'B',\n\t'KiB',\n\t'MiB',\n\t'GiB',\n\t'TiB',\n\t'PiB',\n\t'EiB',\n\t'ZiB',\n\t'YiB',\n];\n\nconst BIT_UNITS = [\n\t'b',\n\t'kbit',\n\t'Mbit',\n\t'Gbit',\n\t'Tbit',\n\t'Pbit',\n\t'Ebit',\n\t'Zbit',\n\t'Ybit',\n];\n\nconst BIBIT_UNITS = [\n\t'b',\n\t'kibit',\n\t'Mibit',\n\t'Gibit',\n\t'Tibit',\n\t'Pibit',\n\t'Eibit',\n\t'Zibit',\n\t'Yibit',\n];\n\n/*\nFormats the given number using `Number#toLocaleString`.\n- If locale is a string, the value is expected to be a locale-key (for example: `de`).\n- If locale is true, the system default locale is used for translation.\n- If no value for locale is specified, the number is returned unmodified.\n*/\nconst toLocaleString = (number, locale, options) => {\n\tlet result = number;\n\tif (typeof locale === 'string' || Array.isArray(locale)) {\n\t\tresult = number.toLocaleString(locale, options);\n\t} else if (locale === true || options !== undefined) {\n\t\tresult = number.toLocaleString(undefined, options);\n\t}\n\n\treturn result;\n};\n\nconst log10 = numberOrBigInt => {\n\tif (typeof numberOrBigInt === 'number') {\n\t\treturn Math.log10(numberOrBigInt);\n\t}\n\n\tconst string = numberOrBigInt.toString(10);\n\n\treturn string.length + Math.log10('0.' + string.slice(0, 15));\n};\n\nconst log = numberOrBigInt => {\n\tif (typeof numberOrBigInt === 'number') {\n\t\treturn Math.log(numberOrBigInt);\n\t}\n\n\treturn log10(numberOrBigInt) * Math.log(10);\n};\n\nconst divide = (numberOrBigInt, divisor) => {\n\tif (typeof numberOrBigInt === 'number') {\n\t\treturn numberOrBigInt / divisor;\n\t}\n\n\tconst integerPart = numberOrBigInt / BigInt(divisor);\n\tconst remainder = numberOrBigInt % BigInt(divisor);\n\treturn Number(integerPart) + (Number(remainder) / divisor);\n};\n\nexport default function prettyBytes(number, options) {\n\tif (typeof number !== 'bigint' && !Number.isFinite(number)) {\n\t\tthrow new TypeError(`Expected a finite number, got ${typeof number}: ${number}`);\n\t}\n\n\toptions = {\n\t\tbits: false,\n\t\tbinary: false,\n\t\tspace: true,\n\t\t...options,\n\t};\n\n\tconst UNITS = options.bits\n\t\t? (options.binary ? BIBIT_UNITS : BIT_UNITS)\n\t\t: (options.binary ? BIBYTE_UNITS : BYTE_UNITS);\n\n\tconst separator = options.space ? ' ' : '';\n\n\tif (options.signed && (typeof number === 'number' ? number === 0 : number === 0n)) {\n\t\treturn ` 0${separator}${UNITS[0]}`;\n\t}\n\n\tconst isNegative = number < 0;\n\tconst prefix = isNegative ? '-' : (options.signed ? '+' : '');\n\n\tif (isNegative) {\n\t\tnumber = -number;\n\t}\n\n\tlet localeOptions;\n\n\tif (options.minimumFractionDigits !== undefined) {\n\t\tlocaleOptions = {minimumFractionDigits: options.minimumFractionDigits};\n\t}\n\n\tif (options.maximumFractionDigits !== undefined) {\n\t\tlocaleOptions = {maximumFractionDigits: options.maximumFractionDigits, ...localeOptions};\n\t}\n\n\tif (number < 1) {\n\t\tconst numberString = toLocaleString(number, options.locale, localeOptions);\n\t\treturn prefix + numberString + separator + UNITS[0];\n\t}\n\n\tconst exponent = Math.min(Math.floor(options.binary ? log(number) / Math.log(1024) : log10(number) / 3), UNITS.length - 1);\n\tnumber = divide(number, (options.binary ? 1024 : 1000) ** exponent);\n\n\tif (!localeOptions) {\n\t\tconst minPrecision = Math.max(3, Number.parseInt(number, 10).toString().length);\n\t\tnumber = number.toPrecision(minPrecision);\n\t}\n\n\tconst numberString = toLocaleString(Number(number), options.locale, localeOptions);\n\n\tconst unit = UNITS[exponent];\n\n\treturn prefix + numberString + separator + unit;\n}\n","import { z } from \"zod\";\n\nexport const Type = {\n  AUTOS: \"AUTOS\",\n  AUTOS_ITEM: \"AUTOS_ITEM\",\n  DEPOT: \"DEPOT\",\n  DIRECTIONS: \"DIRECTIONS\",\n  EURO: \"EURO\",\n  FLATS: \"FLATS\",\n  FUNDS: \"FUNDS\",\n  GAMES: \"GAMES\",\n  GPASS: \"GPASS\",\n  HOTSHOT: \"HOTSHOT\",\n  LECLERC: \"LECLERC\",\n  MACAN: \"MACAN\",\n  PLOTS: \"PLOTS\",\n  PROMO: \"PROMO\",\n  PROMO_ITEM: \"PROMO_ITEM\",\n  OTODOM: \"OTODOM\",\n  OTODOM_OFFER: \"OTODOM_OFFER\",\n  OTOMOTO: \"OTOMOTO\",\n  OTOMOTO_OFFER: \"OTOMOTO_OFFER\",\n  PRODUCTS: \"PRODUCTS\",\n  PRODUCTS2: \"PRODUCTS2\",\n  RATES: \"RATES\",\n  ROOMS: \"ROOMS\",\n  RYNEK: \"RYNEK\",\n  SALOM: \"SALOM\",\n  STATIONS: \"STATIONS\",\n  STATION: \"STATION\",\n  STOCK: \"STOCK\",\n  ROSSM: \"ROSSM\",\n  THULE: \"THULE\",\n  UNKNOWN: \"UNKNOWN\",\n} as const;\n\nexport const getTypeByUrl = (url: string) =>\n  Object.entries({\n    [Type.PROMO]: new RegExp(\"x-kom.pl/promocje|al.to/promocje\"),\n    [Type.PROMO_ITEM]: new RegExp(\"promocje.x-kom.pl/|promocje.al.to/\"),\n    [Type.UNKNOWN]: new RegExp(\"\"),\n  })\n    .find(([, regExp]) => regExp.test(url))\n    ?.shift() as string;\n\nexport const DataSchema = z.object({\n  url: z.string(),\n  body: z.object({}).passthrough().optional(),\n});\n\nexport const OptsSchema = z.object({\n  delay: z.number().default(0),\n  priority: z.number().optional(),\n  removeOnComplete: z.union([z.boolean(), z.number()]).optional(),\n  repeat: z\n    .object({\n      cron: z.string().optional(),\n    })\n    .optional(),\n  timestamp: z.number().optional(),\n});\n\nexport const ReturnSchema = z.object({\n  id: z.string(),\n  data: z.object({\n    url: z.string(),\n  }),\n  timestamp: z.number().optional(),\n});\n\nexport const CompletedSchema = z\n  .object({\n    data: z.object({ url: z.string() }),\n    opts: OptsSchema.default({ delay: 0 }),\n  })\n  .transform(({ data: { url }, opts: { timestamp = Date.now() } }) => ({\n    timestamp,\n    url,\n  }));\n\nexport const DelayedSchema = z\n  .object({\n    id: z.string(),\n    name: z.string(),\n    data: z\n      .object({\n        url: z.string().optional(),\n      })\n      .passthrough(),\n    opts: OptsSchema.extend({\n      removeOnComplete: z.union([z.boolean(), z.number()]).optional(),\n      repeat: z\n        .object({ count: z.number(), key: z.string(), cron: z.string() })\n        .strict()\n        .optional(),\n      jobId: z.string().optional(),\n      backoff: z\n        .object({\n          type: z.enum([\"fixed\"]),\n          delay: z.number(),\n        })\n        .optional(),\n      delay: z.number(),\n      timestamp: z.number(),\n      prevMillis: z.number().optional(),\n      attempts: z.number(),\n    }).strict(),\n    progress: z.number(),\n    delay: z.number(),\n    timestamp: z.number(),\n    attemptsMade: z.number(),\n    stacktrace: z.array(z.unknown()),\n    returnvalue: z.null(),\n    debounceId: z.null(),\n    failedReason: z.string().optional(),\n    finishedOn: z.number().nullable(),\n    processedOn: z.number().nullable(),\n  })\n  .strict()\n  .array();\n\nexport const EntriesSchema = ReturnSchema.extend({\n  data: z\n    .object({\n      url: z.string().optional(),\n    })\n    .passthrough(),\n  type: z.string().optional(),\n  returnvalue: z.any(),\n});\n\nexport const FailedSchema = DelayedSchema;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\n// https://codepen.io/GeoffreyCrofte/pen/ZQrgZm\n// https://codepen.io/supah/pen/BjYLdW\n// https://codesandbox.io/s/m3v440z36j\nconst StyledSpinner = styled.div`\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  position: relative;\n\n  .spinner {\n    position: absolute;\n    width: 1.5em;\n    height: 1.5em;\n    margin: 0;\n  }\n\n  svg {\n    animation: rotate 2s linear infinite;\n    margin: -25px 0 0 -25px;\n    width: 50px;\n    height: 50px;\n\n    & .path {\n      stroke: #5652bf;\n      stroke-linecap: round;\n      animation: dash 1.5s ease-in-out infinite;\n    }\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n`;\n\nexport function Spinner() {\n  return (\n    <StyledSpinner>\n      <svg className=\"spinner\" viewBox=\"0 0 50 50\">\n        <circle\n          className=\"path\"\n          cx=\"25\"\n          cy=\"25\"\n          r=\"20\"\n          fill=\"none\"\n          strokeWidth=\"5\"\n        />\n      </svg>\n    </StyledSpinner>\n  );\n}\n","import React, {\n  type MouseEventHandler,\n  type ReactNode,\n  useCallback,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledFieldset = styled.fieldset`\n  min-inline-size: auto;\n`;\n\nconst StyledLegend = styled.legend``;\n\nexport function Fieldset({\n  children,\n  expanded: initiallyExpanded = false,\n  legend,\n}: {\n  children: any;\n  expanded?: boolean;\n  legend: string;\n}) {\n  const [expanded, setExpanded] = useState(() => initiallyExpanded);\n\n  const handleExpand = useCallback<MouseEventHandler>(\n    (e) => (e.preventDefault(), setExpanded((expanded) => !expanded)),\n    []\n  );\n  return (\n    <StyledFieldset>\n      {legend && (\n        <StyledLegend>\n          <a href=\"#\" onClick={handleExpand}>{`${\n            expanded ? \"-\" : \"+\"\n          } ${legend}`}</a>\n        </StyledLegend>\n      )}\n      {expanded && children}\n    </StyledFieldset>\n  );\n}\n","import React, { type CSSProperties, type MouseEventHandler } from \"react\";\n\nexport function Link({\n  href = \"#\",\n  ...props\n}: {\n  children: any;\n  href?: string;\n  onClick?: MouseEventHandler;\n  rel?: string;\n  style?: CSSProperties;\n  target?: string;\n}) {\n  const hash = href[0] === \"#\";\n\n  return (\n    <a\n      href={href}\n      target={hash ? undefined : \"_blank\"}\n      rel={hash ? undefined : \"noopener noreferrer\"}\n      {...props}\n    />\n  );\n}\n","import chunk from \"chunk\";\n\nexport const SHOPS = [\n  \"Warszawa\",\n  \"Warszawa Białołęka\",\n  \"Warszawa Mokotów\",\n  \"Warszawa Ochota\",\n  \"Warszawa Praga\",\n  \"Warszawa Wola/Żoliborz\",\n  \"Warszawa Śródmieście\",\n];\n\nexport const records = [\n  {\n    data: {\n      url: \"https://www.autocentrum.pl/ac-ajax/stations-get-stations?zoom=6\",\n    },\n    opts: {\n      repeat: { cron: \"0 15 * * *\" },\n    },\n  },\n  // {\n  //   data: {\n  //     url: \"https://najlepszeoferty.bmw.pl/uzywane/api/v1/ems/bmw-used-pl_PL/search\",\n  //     body: {\n  //       $match: {\n  //         transactionalPrice: {\n  //           $min: 0,\n  //           $max: 1790000,\n  //         },\n  //       },\n  //       $skip: 0,\n  //       $limit: 100,\n  //     },\n  //   },\n  //   opts: {\n  //     repeat: { cron: \"30 11,19 * * *\" },\n  //   },\n  // },\n  {\n    data: {\n      url: \"https://rvm-prod.aws.bmw.cloud/similarity-search/v2/search?countries=PL&consumer=stockLocator_PL&maxResults=12&startIndex=0\",\n      body: {\n        searchContext: [\n          {\n            // usageState: {\n            //   value: [\"NEW\", \"DEALER_YOUNG_USED\"],\n            // },\n            // vehicleSalesProcessState: {\n            //   type: {\n            //     value: [\"AVAILABLE\", \"RESERVED_MANUAL\"],\n            //   },\n            // },\n            // brands: {\n            //   value: [\"MINI\"],\n            // },\n            productTypes: {\n              value: [\"CAR\"],\n            },\n            salesDestinations: [\n              {\n                name: \"ONLINE\",\n                onlineStatus: true,\n              },\n            ],\n            // validities: [\n            //   {\n            //     filters: [\n            //       \"DEGREE_OF_ELECTRIFICATION_BASED_FUEL_TYPE\",\n            //       \"POWER_KW_BASED_ON_DEGREE_OF_ELECTRIFICATION\",\n            //       \"TRANSMISSION\",\n            //       \"EMISSION_DATA_BASED_ON_DEGREE_OF_ELECTRIFICATION\",\n            //       \"UCP_PRICE_ALL_OPTIONS_PRICED\",\n            //     ],\n            //     requireAll: true,\n            //     validity: \"VALID\",\n            //   },\n            // ],\n            // buNos: [\n            //   \"32940\",\n            //   \"27023\",\n            //   \"44852\",\n            //   \"35466\",\n            //   \"51057\",\n            //   \"35941\",\n            //   \"28966\",\n            //   \"33160\",\n            //   \"49584\",\n            //   \"35140\",\n            //   \"29029\",\n            //   \"44845\",\n            //   \"28965\",\n            //   \"28597\",\n            //   \"42099\",\n            //   \"06030\",\n            //   \"36891\",\n            //   \"32059\",\n            //   \"51448\",\n            //   \"34238\",\n            //   \"41094\",\n            //   \"50457\",\n            // ],\n            // model: { marketingModelRange: { value: [\"MINI_F56\"] } },\n            model: {\n              marketingModelRange: {\n                value: [\"JCW_F56\", \"JCW_F57\", \"X3_G01\"],\n              },\n            },\n          },\n        ],\n        resultsContext: {\n          // excludes: [\"EQUIPMENT_PRICES\"],\n          // sort: [\n          //   {\n          //     by: \"PRICE\",\n          //     order: \"ASC\",\n          //   },\n          // ],\n          sort: [\n            {\n              by: \"PRODUCTION_DATE\",\n              order: \"DESC\",\n            },\n          ],\n        },\n      },\n    },\n    opts: {\n      repeat: { cron: \"0 12 * * *\" },\n    },\n  },\n  {\n    blocked: false,\n    data: {\n      url: \"https://finder.porsche.com/pl/pl-PL/search?model=macan&model-generation=95b-iii\",\n    },\n    opts: {\n      repeat: { cron: \"5 12 1 * *\" },\n    },\n  },\n  {\n    data: {\n      url: \"https://www.rbinternational.com.pl/rest/rates/?type=kursywalut&range=all\",\n    },\n    opts: {\n      repeat: { cron: \"15 8 * * *\" },\n    },\n  },\n  {\n    blocked: true,\n    data: {\n      url: \"https://www.x-kom.pl/promocje\",\n    },\n    opts: {\n      repeat: { cron: \"1 11,20 * * *\" },\n    },\n  },\n  {\n    blocked: true,\n    data: {\n      url: \"https://www.al.to/promocje\",\n    },\n    opts: {\n      repeat: { cron: \"1 12,19 * * *\" },\n    },\n  },\n  {\n    blocked: true,\n    data: {\n      url: \"https://www.x-kom.pl/goracy_strzal\",\n    },\n    opts: {\n      // removeOnComplete: 2,\n      repeat: { cron: \"15 10,22 * * *\" },\n    },\n  },\n  {\n    blocked: true,\n    data: {\n      url: \"https://www.al.to/goracy_strzal\",\n    },\n    opts: {\n      repeat: { cron: \"5 9,21 * * *\" },\n    },\n  },\n  {\n    data: {\n      url: \"https://ursynow.leclerc.pl/\",\n    },\n    opts: {\n      repeat: { cron: \"0 10,20 * * *\" },\n    },\n  },\n  {\n    data: {\n      url: \"https://www.xbox.com/pl-PL/xbox-game-pass\",\n    },\n    opts: {\n      repeat: { cron: \"30 13 * * *\" },\n    },\n  },\n]\n  .concat(\n    [\n      \"hale-magazyny/wynajem/mazowieckie\",\n      // \"hale-magazyny/wynajem/stare-babice\",\n      // \"hale-magazyny/wynajem/zielonki-parcela\",\n      \"mieszkania/wynajem/warszawa/?search%5Bdistrict_id%5D=373&search%5Bfilter_enum_builttype%5D%5B0%5D=blok&search%5Bfilter_enum_rooms%5D%5B0%5D=one\",\n      \"mieszkania/wynajem/warszawa/?search%5Bdistrict_id%5D=353&search%5Bfilter_enum_builttype%5D%5B0%5D=blok&search%5Bfilter_float_m:from%5D=70&search%5Bfilter_enum_rooms%5D%5B0%5D=three\",\n    ]\n      .map((cat) => `https://www.olx.pl/nieruchomosci/${cat}/`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 9,18 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"backpacks/laptop-backpacks\",\n      // \"bike-rack\",\n      // \"cargo-carrier/car-top-carrier\",\n      // \"roof-rack/car-roof-racks\",\n    ]\n      .map((cat) => `https://www.thule.com/pl-pl/${cat}`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 21 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      \"granica_45581\",\n      \"kanie_134919\",\n      \"komorow_117329\",\n      \"konstancin-jeziorna\",\n      \"michalowice_101993\",\n      \"nowa-wies_139387\",\n      \"otrebusy\",\n      \"pecice\",\n      \"podkowa-lesna\",\n      \"stare-babice\",\n      \"warszawa\",\n      \"zalesie-gorne\",\n    ]\n      .map(\n        (cat) => `https://www.olx.pl/d/nieruchomosci/dzialki/sprzedaz/${cat}/`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 9,17 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"dom/komorow_5600\",\n      // \"dom/michalowice_62659\",\n      // \"dom/warszawa\",\n      // \"dzialka/komorow_5600\",\n      // \"dzialka/michalowice_62659\",\n      // \"dzialka/warszawa\",\n      // \"dzialka/zalesie-gorne\",\n    ]\n      .map(\n        (cat) =>\n          `https://www.otodom.pl/pl/oferty/sprzedaz/${cat}?limit=72&page=1`,\n      )\n      .concat(\n        [\n          \"dom/mazowieckie/piaseczynski/konstancin--jeziorna\",\n          \"dzialka/lodzkie/belchatowski/kleszczow\",\n          \"dzialka/mazowieckie/otwocki/jozefow/jozefow\",\n          \"dzialka/mazowieckie/piaseczynski/konstancin--jeziorna\",\n          \"dzialka/mazowieckie/piaseczynski/piaseczno/zalesie-gorne\",\n          \"dzialka/mazowieckie/pruszkowski/michalowice\",\n          \"dzialka/mazowieckie/pruszkowski/raszyn\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa/bemowo/boernerowo\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa/ursus\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa/wawer/anin\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa/wawer/miedzeszyn\",\n          \"dzialka/mazowieckie/warszawa/warszawa/warszawa/wawer/miedzylesie\",\n          \"dzialka/mazowieckie/warszawski-zachodni/izabelin\",\n          \"dzialka/mazowieckie/warszawski-zachodni/stare-babice\",\n        ].map(\n          (cat) =>\n            `https://www.otodom.pl/pl/wyniki/sprzedaz/${cat}?limit=72&page=1`,\n        ),\n      )\n      .map((url, i) => ({\n        blocked: true,\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 30} 10,18 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"audi/a4-allroad\",\n      // \"audi/a5?search%5Bfilter_enum_generation%5D=gen-f5-2016\",\n      \"audi/a6/seg-combi?search%5Bfilter_enum_generation%5D=gen-c8-2018\",\n      \"audi/a6-allroad?search%5Bfilter_enum_generation%5D=gen-c8-2019\",\n      // \"audi/q5?search%5Bfilter_enum_generation%5D=gen-fy-2017\",\n      \"audi/q7?search%5Bfilter_enum_generation%5D=gen-ii-2015-q7\",\n      // \"audi/q8\",\n      \"bmw/seria-5?search%5Bfilter_enum_generation%5D%5B0%5D=gen-g30-2017&search%5Bfilter_enum_generation%5D%5B1%5D=gen-g60-2023\",\n      \"bmw/x3?search%5Bfilter_enum_generation%5D=gen-g01-2017\",\n      \"bmw/x3?search%5Bfilter_enum_generation%5D=gen-g45-2024\",\n      \"bmw/x5/od-2024?search%5Bbrand_program_id%5D=16&search%5Bfilter_enum_generation%5D=gen-g05-2018&search%5Border%5D=relevance_web\",\n      \"honda/accord/seg-combi?search%5Bfilter_enum_generation%5D=gen-viii-2008\",\n      // \"honda/jazz?search%5Bfilter_enum_generation%5D=gen-ii-2002-2008-jazz\",\n      \"mini/cooper-s--john-cooper-works\",\n      \"nowe/volvo/xc-90\",\n      \"porsche/macan\",\n      \"volvo/ex90\",\n      // \"volvo/xc-60?search%5Bfilter_enum_generation%5D=gen-ii-2017\",\n    ]\n      .map((cat) => `https://www.otomoto.pl/osobowe/${cat}`)\n      .map((url, i) => ({\n        blocked: true,\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 30} 9 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\"nowe-domy-mazowieckie\", \"nowe-domy-warszawa\"]\n      .map((cat) => `https://rynekpierwotny.pl/s/${cat}/`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 10 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      2, 4,\n      // 5, 6,\n      8,\n      // 10, 30,\n      33, 34, 35, 36, 37, 43, 44, 73, 74, 75, 77, 79, 80, 82, 84, 91, 103, 104,\n      105, 106, 107, 112, 113, 114, 117, 119, 121, 122, 123, 124, 126, 127, 128,\n      129, 130,\n      // 131,\n      132,\n    ]\n      .map(\n        (fund) =>\n          `https://www.pkotfi.pl/_ajax/rest/v2/tfi/fund/${fund}/values/?format=json&division=daily`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 14 * * *` },\n        },\n      })),\n  )\n  .concat(\n    chunk(\n      [\n        \"9NKX70BBCDRN\",\n        \"9Z1W36CRQ9DF\",\n        \"B4X7PC56X1VV\",\n        \"9MTLKM2DJMZ2\",\n        \"C08JXNK0VG5L\",\n        \"9N9J38LPVSM3\",\n        \"9P6SRW1HVW9K\",\n        \"BVH2R2SBWL51\",\n        \"9PNJXVCVWD4K\",\n        \"9MZ0SR207MG8\",\n        \"9P4SH7HLMLFS\",\n        \"9N1CS194W1Q6\",\n        \"9P1HX37NMJLT\",\n        \"BRZZLBF5T245\",\n        \"9P513P4MWC71\",\n        \"C2MBDNDS3H5W\",\n        \"BWVBNCMF22ZK\",\n        \"9N6J02VPG635\",\n        \"BS5RXLL3WQ2J\",\n        \"C2HQVXVVLMKG\",\n        \"BVJLKDG2TX8H\",\n        \"C4VKLMG1HLZW\",\n        \"9N04KQK2LBZL\",\n        \"9NMBJQ0265ZK\",\n        \"BSMZH25V6V46\",\n        \"9N9QFGPBH418\",\n        \"9NS86BQ33SPX\",\n        \"9NXPBSMHPLTV\",\n        \"9N8VG0B7TDZ0\",\n        \"9PH3RR8MVFJL\",\n        \"9NM0CRXJ389D\",\n        \"BNNMLWZRNQF6\",\n        \"9P778MQ2JPKC\",\n        \"9NH5HN11FG4M\",\n        \"C348248BJZCQ\",\n        \"9PGPQK0XTHRZ\",\n        \"9PG5Q9HGZXQ2\",\n        \"9MTJ74MKQM46\",\n        \"9NHXSG62QD2L\",\n        \"9NC7XRNRMNFH\",\n        \"9NRX3HRMZQ7Z\",\n        \"9NFM39PSFXJD\",\n        \"9NDDMHZRZ0R6\",\n        \"9NP5S7RDH5QB\",\n        \"9NNF99GPP4XW\",\n        \"9PMQDM08SNK9\",\n      ],\n      5,\n    )\n      .map((ids) => {\n        const mscv = \"DGU1mcuYo0WMMp+F.1\";\n        return `https://displaycatalog.mp.microsoft.com/v7.0/products?bigIds=${ids.join(\n          \",\",\n        )}&market=PL&languages=pl-pl&MS-CV=${mscv}`;\n      })\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 13 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      \"g-2/c/159-laptopy-notebooki-ultrabooki.html?producent=357-apple\",\n      \"g-2/c/494-konwertery.html\",\n      // \"g-2/c/1329-notebooki-laptopy-13-3.html?producent=357-apple\",\n      // \"g-2/c/1331-notebooki-laptopy-15-3.html?producent=357-apple\",\n      \"g-2/c/1439-plecaki-na-laptopy.html?producent=1150-thule\",\n      \"g-2/c/1663-tablety.html?producent=357-apple\",\n      \"g-2/c/1709-nettopy-mini-pc.html?producent=357-apple\",\n      \"g-2/c/1709-nettopy-mini-pc.html?producent=1832-raspberry-pi\",\n      \"g-2/c/2980-notebooki-laptopy-14-0.html?producent=357-apple\",\n      \"g-4/c/310-karty-pamieci-sd.html?producent=303-sandisk\",\n      \"g-4/c/315-pendrive-pamieci-usb.html?producent=29-samsung&producent=59-kingston&producent=303-sandisk\",\n      // \"g-4/c/315-pendrive-pamieci-usb.html?producent=59-kingston\",\n      // \"g-4/c/315-pendrive-pamieci-usb.html?producent=303-sandisk\",\n      \"g-4/c/979-karty-pamieci-microsd.html?producent=29-samsung&producent=59-kingston&producent=303-sandisk\",\n      // \"g-4/c/979-karty-pamieci-microsd.html?producent=303-sandisk\",\n      \"g-4/c/1590-smartfony-i-telefony.html?producent=357-apple\",\n      \"g-4/c/1836-etui-i-obudowy-na-smartfony.html?producent=357-apple\",\n      \"g-4/c/1837-ladowarki-do-smartfonow.html?producent=357-apple&producent=1839-green-cell\",\n      \"g-4/c/2287-akcesoria-do-tabletow.html?producent=357-apple\",\n      \"g-4/c/2301-powerbanki.html?f2901-pojemnosc-nominalna=71720-5-000-9-999-mah\",\n      \"g-4/c/2748-sluchawki-true-wireless.html?producent=357-apple\",\n      \"g-4/c/3008-smartwatche-lte.html?producent=357-apple\",\n      \"g-5/c/158-zasilacze-do-komputera.html?producent=368-nzxt\",\n      \"g-5/c/346-karty-graficzne-nvidia.html?producent=27-asus&producent=57-gigabyte&producent=1126-inno3d\",\n      // \"g-5/c/346-karty-graficzne-nvidia.html?producent=27-asus\",\n      // \"g-5/c/346-karty-graficzne-nvidia.html?producent=57-gigabyte\",\n      // \"g-5/c/346-karty-graficzne-nvidia.html?producent=1126-inno3d\",\n      // \"g-5/c/388-obudowy-komputerowe.html?producent=165-cooler-master\",\n      // \"g-5/c/388-obudowy-komputerowe.html?producent=198-lian-li\",\n      \"g-5/c/388-obudowy-komputerowe.html?producent=368-nzxt\",\n      \"g-5/c/388-obudowy-komputerowe.html?producent=942-phanteks\",\n      // \"g-5/c/388-obudowy-komputerowe.html?producent=1168-jonsbo\",\n      \"g-5/c/439-dyski-zewnetrzne-hdd.html?producent=26-wd&f1730-format=18808-2.5\",\n      \"g-5/c/1779-dyski-ssd.html?producent=29-samsung&producent=59-kingston&producent=506-crucial\",\n      // \"g-5/c/1779-dyski-ssd.html?producent=29-samsung\",\n      // \"g-5/c/1779-dyski-ssd.html?producent=59-kingston\",\n      // \"g-5/c/1779-dyski-ssd.html?producent=506-crucial\",\n      \"g-5/c/2493-zasilacze-komputerowe.html?producent=27-asus&producent=165-cooler-master&producent=198-lian-li&producent=368-nzxt&producent=501-fractal-design&producent=942-phanteks&f2135-typ-okablowania=23618-modularny\",\n      \"g-5/c/2599-chlodzenia-komputerowe.html?producent=368-nzxt\",\n      \"g-5/c/2665-karty-przechwytujace-wideo.html?producent=818-elgato\",\n      \"g-5/c/2997-procesory-amd-ryzen-5.html?producent=3-amd\",\n      \"g-5/c/3402-pamieci-ram-ddr5.html?producent=2484-kingston-fury\",\n      \"g-5/c/3618-plyty-glowne-socket-am5.html\",\n      \"g-6/c/15-monitory.html?producent=357-apple\",\n      // \"g-6/c/34-zasilacze-awaryjne-ups.html?producent=154-apc\",\n      // \"g-6/c/34-zasilacze-awaryjne-ups.html?producent=1308-eaton\",\n      \"g-6/c/421-urzadzenia-sieciowe.html?producent=628-ubiquiti&hide_unavailable=1\",\n      \"g-6/c/425-switche.html?producent=276-tp-link&f3303-typ-obudowy=45868-do-szaf-rack&hide_unavailable=1\",\n      \"g-6/c/456-access-pointy.html?producent=276-tp-link&hide_unavailable=1\",\n      \"g-6/c/459-drukarki-do-zdjec.html\",\n      \"g-6/c/1119-przelaczniki-kvm.html?producent=832-unitek\",\n      \"g-6/c/1215-sluchawki.html?producent=357-apple&producent=1214-marshall&producent=2334-shure\",\n      \"g-6/c/1295-monitory-led-32-i-wieksze.html?producent=396-dell\",\n      \"g-6/c/1407-manipulatory.html\",\n      // \"g-6/c/1544-drukarki-etykiet.html\",\n      \"g-6/c/1749-projektory.html?f1809-technologia-wyswietlania=126474-laser&f1809-technologia-wyswietlania=157709-led\",\n      \"g-6/c/1751-prezentery.html\",\n      \"g-6/c/2280-szafy-rack.html?producent=154-apc\",\n      \"g-6/c/2280-szafy-rack.html?producent=1278-lanberg\",\n      \"g-6/c/2326-kamery-ip.html?producent=276-tp-link&producent=2287-hikvision\",\n      \"g-6/c/2495-sluchawki-bezprzewodowe.html?producent=374-jbl&f1895-budowa-sluchawek=167586-nauszne\",\n      \"g-6/c/2506-glosniki-przenosne.html?producent=374-jbl&f1872-moc-glosnikow-rms=71075-10-49-w\",\n      \"g-6/c/2511-drukarki-3d.html?producent=3499-bambu-lab\",\n      \"g-6/c/2512-filamenty-do-drukarek-3d.html?producent=3499-bambu-lab\",\n      // \"g-6/c/2511-drukarki-3d.html?producent=2367-creality\",\n      // \"g-6/c/2512-filamenty-do-drukarek-3d.html\",\n      // \"g-6/c/2673-etykiety-do-drukarek.html\",\n      \"g-6/c/3095-statywy-do-mikrofonow.html?producent=818-elgato&producent=2025-rode&producent=2438-blue-microphones\",\n      // \"g-7/c/171-joysticki.html?producent=896-thrustmaster\",\n      \"g-7/c/2935-akcesoria-do-streamingu.html?producent=818-elgato\",\n      \"g-8/c/1425-odtwarzacze-multimedialne.html?producent=357-apple\",\n      // \"g-8/c/2672-etui-na-sluchawki.html?f5654-kompatybilnosc=151468-apple-airpods\",\n      \"g-8/c/3478-sprzet-dj.html\",\n      \"g-12/c/266-kable-usb.html?producent=470-gembird&producent=832-unitek&f2934-dlugosc=od-3\",\n      \"g-12/c/409-ladowarki-do-aparatow.html?f3821-kompatybilne-baterie=207606-lp-e12\",\n      \"g-12/c/2466-baterie-i-akumulatorki.html?f2834-typ-ogniwa=41678-aa-r6&f2834-typ-ogniwa=41679-aaa-r03\",\n      // \"g-12/c/3472-stacje-zasilania.html?producent=2599-ecoflow\",\n      \"g-64/c/1933-statywy.html?producent=921-manfrotto\",\n      // \"g-64/c/1933-statywy.html?producent=1056-joby\",\n      \"g-64/c/2294-drony.html?producent=1009-dji\",\n      \"g-64/c/2367-smigla-do-dronow.html?producent=1009-dji&f4755-kompatybilnosc=246391-dji-mini-3-pro\",\n      \"g-64/c/2368-baterie-do-dronow.html?producent=1009-dji&f5168-kompatybilnosc=246374-dji-mini-3-pro\",\n      // \"g-64/c/2326-kamery-ip.html?producent=2287-hikvision\",\n      \"g-64/c/2326-kamery-ip.html?producent=276-tp-link&producent=628-ubiquiti\",\n      \"g-64/c/2406-inteligentny-dom.html?producent=807-google\",\n      \"g-64/c/2406-inteligentny-dom.html?producent=3028-nice\",\n      // \"g-64/c/2412-gniazda-smart-plug.html?producent=276-tp-link&producent=1023-xiaomi&producent=1311-wiz\",\n      \"g-64/c/2582-gimbale.html?producent=1009-dji&producent=1155-zhiyun\",\n      // \"g-64/c/2582-gimbale.html?producent=1009-dji\",\n      // \"g-64/c/2582-gimbale.html?producent=1155-zhiyun\",\n      \"g-64/c/2684-filtry-do-dronow.html?producent=1009-dji&f5751-kompatybilnosc=246401-dji-mini-3-pro\",\n      // \"g-64/c/2994-lampy-led.html?producent=952-newell\",\n      \"g-64/c/3003-inteligentne-sterowniki.html?producent=2421-grenton\",\n      \"g-64/c/3006-inteligentne-lampy.html?producent=2867-twinkly\",\n      \"g-64/c/3037-rejestratory-ip.html?producent=276-tp-link&producent=628-ubiquiti&producent=2287-hikvision\",\n      \"g-64/c/3086-dyski-twarde-do-monitoringu.html\",\n      \"g-64/c/3451-akcesoria-do-urzadzen-smart.html?producent=2421-grenton\",\n    ]\n      .map((path) => `https://www.x-kom.pl/${path}`)\n      .map((url, i) => ({\n        blocked: true,\n        data: {\n          url,\n        },\n        opts: {\n          repeat: {\n            cron: `${(i + 1) % 60} ${7 + Math.floor((i + 1) / 60)},${14 + Math.floor((i + 1) / 60)} * * *`,\n          },\n        },\n      })),\n  )\n  .concat(\n    [\n      \"g-19/c/1786-odkurzacze.html?producent=539-bosch&producent=545-dyson&producent=546-karcher&producent=555-tefal&f170-typ-odkurzacza=25377-pionowy\",\n      // \"g-19/c/1796-maszynki-do-mielenia.html?producent=539-bosch\",\n      \"g-19/c/1798-ekspresy-do-kawy.html?producent=464-siemens&producent=1977-wmf\",\n      // \"g-19/c/1800-suszarko-lokowki.html?producent=567-babyliss&producent=569-remington\",\n      \"g-19/c/1803-roboty-kuchenne.html?producent=539-bosch&producent=1977-wmf\",\n      \"g-19/c/1820-wentylatory.html?producent=1023-xiaomi\",\n      \"g-19/c/1913-spieniacze-do-mleka.html\",\n      \"g-19/c/2354-agd-do-kuchni.html?producent=1977-wmf\",\n      // \"g-19/c/2362-akcesoria-do-kuchni.html?producent=3035-girmi\",\n      \"g-19/c/2362-akcesoria-do-kuchni.html?producent=1977-wmf\",\n      \"g-19/c/2471-akcesoria-roboty-kuchenne.html?producent=539-bosch&producent=1977-wmf\",\n      // \"g-19/c/2880-generatory-pary.html\",\n      \"g-19/c/3519-parownice-do-sprzatania.html?producent=546-karcher\",\n      \"g-19/c/3664-akcesoria-do-grilla.html?producent=2375-weber\",\n      \"g-25/c/1117-telewizory.html?producent=16-sony&f1411-rozdzielczosc=21788-uhd-4k-3840-x-2160\",\n      \"g-25/c/1215-sluchawki.html?producent=1212-beyerdynamic\",\n      \"g-25/c/2406-inteligentny-dom.html?producent=1982-sonoff\",\n      // \"g-25/c/2407-czujniki.html?producent=1982-sonoff&producent=3315-shelly\",\n      // \"g-25/c/2590-inteligentne-wlaczniki-swiatla.html?producent=1982-sonoff\",\n      \"g-25/c/2953-dzwonki-do-drzwi.html?producent=628-ubiquiti\",\n      \"g-25/c/3003-inteligentne-sterowniki.html?producent=3315-shelly\",\n      \"g-25/c/3038-inteligentne-kamery.html?producent=1023-xiaomi\",\n      \"g-27/c/1950-zamrazarki.html?producent=464-siemens&producent=539-bosch\",\n      // \"g-63/c/2073-klocki-lego.html?producent=629-lego&f833-seria=8890-lego-technic&f833-seria=161664-lego-dots\",\n      \"g-65/c/3047-grille-ogrodowe.html?producent=2375-weber\",\n      \"g-65/c/3059-narzedzia.html?producent=2354-gardena\",\n      \"g-65/c/3349-pompy-i-akcesoria.html\",\n      \"g-68/c/1749-projektory.html?f1813-kontrast=77178-od-100-0001&f1915-rozdzielczosc-natywna=78689-3840-x-2160-4k\",\n      \"g-70/c/3496-okapy-kuchenne.html?producent=464-siemens\",\n      \"g-70/c/3503-zmywarki-do-zabudowy-60-cm.html?producent=464-siemens\",\n    ]\n      .map((path) => `https://www.al.to/${path}`)\n      .map((url, i) => ({\n        blocked: true,\n        data: {\n          url,\n        },\n        opts: {\n          repeat: {\n            cron: `${(i + 1) % 60} ${7 + Math.floor((i + 1) / 60)},${15 + Math.floor((i + 1) / 60)} * * *`,\n          },\n        },\n      })),\n  )\n  .concat(\n    [\n      \"category=akcesoria-do-drukarek-3&__=3doodler&_n=1\",\n      \"category=akcesoria-do-ipada-i-tabletow-multimedialnych&__=Apple\",\n      \"category=archiwizacja-danych1&__=WD\",\n      \"category=czysciki-parowe&__=Karcher\",\n      \"category=dyski-wewnetrzne-ssd&__=Kingston\",\n      \"category=ekspresy-cisnieniowe&__=Siemens,jura\",\n      \"category=etui-do-telefonow&__=Apple\",\n      \"category=fotele-i-stojaki-do-kierownicy&__=Asus,sparco\",\n      \"category=gilotyny-i-trymery\",\n      \"category=glosniki-przenosne&__=BowersWilkins,Sonos,Yamaha,jbl,marshall\",\n      // \"category=glosniki-przenosne&__=jbl\",\n      // \"category=glosniki-przenosne&__=marshall\",\n      \"category=karty-pamieci&__=SanDisk&_i=2,4&_j=6,8\",\n      \"category=ladowarki-ipod-iphone&__=Apple\",\n      \"category=laptopy-i-netbooki&__=Apple\",\n      \"category=lodowki-do-zabudowy&__=Siemens\",\n      \"category=lokowko-suszarki&__=Babyliss,Dyson,Remington\",\n      // \"category=miksery-kielichowe&__=Bosch,KitchenAid,Tefal,wmf\",\n      \"category=mopy-elektryczne&__=Karcher,Vileda\",\n      // \"category=obiektywy&__=Canon\",\n      // \"category=obiektywy&__=Sigma&_h=32\",\n      \"category=obiektywy&_h=2\",\n      \"category=odkurzacze-pionowe&__=Bosch,Dyson,Karcher,Tefal\",\n      \"category=parownice-do-ubran&__=Tefal\",\n      \"category=pendrive-pamieci-usb&__=Kingston,SanDisk&_h=2,3\",\n      \"category=piekarniki-do-zabudowy&__=Siemens\",\n      \"category=plyty-do-zabudowy&__=Siemens\",\n      \"category=pralki&__=Siemens\",\n      \"category=roboty-wieloczynnosciowe&__=Bosch,wmf&_az=4\",\n      // \"category=roboty-wieloczynnosciowe&__=KitchenAid&_aw=1\",\n      \"category=sluchawki&__=Apple,marshall\",\n      \"category=smartwatch&__=Apple\",\n      \"category=stabilizatory-do-kamer-i-aparatow\",\n      \"category=suszarki&__=Siemens\",\n      \"category=telefony-komorkowe&__=Apple\",\n      \"category=telewizory-led-lcd-plazmowe&__=Panasonic\",\n      \"category=wentylatory-i-klimatory&__=xiaomi\",\n      \"category=wyposazenie-do-ekspresow&__=Siemens\",\n      \"category=wyposazenie-do-robotow-kuchennych&__=Bosch\",\n      // \"category=zelazka-systemowe&__=Philips\",\n      \"category=zelazka-systemowe&__=Tefal\",\n      \"category=zmywarki-do-zabudowy&__=Siemens\",\n    ]\n      .map(\n        (path) =>\n          `https://www.euro.com.pl/rest/api/products/search?startFrom=0&numberOfItems=17&${path}&developSearchMode=false&orderBy=POPULARITY&direction=ASC`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 9,16 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      \"CategoryId=8305&BrandIds=6254\", // Dzbanki i filtry / RUBIN\n      \"CategoryId=8339&BrandIds=4081\", // Środki do zmywarki / FINISH\n      \"CategoryId=8343&BrandIds=10624&BrandIds=10757\", // Akcesoria Do Sprzątania / 3M SCOTCH-BRITE / VILEDA\n      \"CategoryId=8344\", // Worki na śmieci\n      \"CategoryId=8380&BrandIds=10504\", // Karma sucha dla kota / PURINA ONE\n      \"CategoryId=8379&BrandIds=10251\", // Karma mokra dla kota / PURINA GOURMET\n      \"CategoryId=8382&BrandIds=10193&BrandIds=11576\", // Akcesoria dla kota / CATSI / ELOY\n      \"CategoryId=8576&BrandIds=7261\", // Higiena / YOPE\n      \"CategoryId=8589&BrandIds=5259\", // Pasty do zębów / MERIDOL\n      \"CategoryId=8603&BrandIds=4309&Tags=393_2702\", // Maszynki i wkłady / GILLETTE / wkłady do maszynek\n      \"CategoryId=8613&BrandIds=2353\", // Papiery toaletowe / ALOUETTE\n      \"CategoryId=8615&BrandIds=2353\", // Chusteczki higieniczne / ALOUETTE\n      \"CategoryId=8657&BrandIds=2362\", // Szampony / ALTERRA\n    ]\n      .map(\n        (path) => `https://www.rossmann.pl/szukaj?${path}&Page=1&PageSize=24`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 7 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"kids/shoes/hiking-shoes\",\n      // \"promotions/outlet/shoes\",\n      // \"promotions/sale/skiing/boots/shopby/medium_16458\",\n      // \"sports/alpine-skiing/boots/shopby/on_piste_74982\",\n    ]\n      .map((path) => `https://www.salomon.com/pl-pl/shop-emea/${path}.html`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 8 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"black-friday\",\n      // \"dyson-na-prezent\",\n      \"produkty/akcesoria/akcesoria-do-odkurzaczy\",\n      \"promocje\",\n      // \"produkty/pielegnacja-podlog\",\n    ]\n      .map((path) => `https://www.dyson.pl/${path}`)\n      .map((url, i) => ({\n        blocked: true,\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 1} 7 * * *` },\n        },\n      })),\n  )\n  .concat(\n    chunk(\n      [\n        // \"592143\",\n        // \"681134\",\n        // \"681136\",\n        // \"681152\",\n        // \"730554\",\n        // \"730597\",\n        // \"1070889\",\n      ],\n      1,\n    )\n      .map((ids) => `https://www.x-kom.pl/szukaj?q=${ids.join(\"+\")}`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 16 * * *` },\n        },\n      })),\n  )\n  .concat(\n    chunk(\n      [\n        // \"1022668\"\n      ],\n      1,\n    )\n      .map((ids) => `https://www.al.to/szukaj?q=${ids.join(\"+\")}`)\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 17 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // \"aparthotelczarnagora\",\n      // \"aparthotelgiewont1\",\n      // \"belwederhotel\",\n      // \"bluemountainresort\",\n      // \"czarnygron\",\n      // \"grandhotelstamary\",\n      // \"grenohotelspa\",\n      // \"greenmountainhotel\",\n      // \"hotelaquarion\",\n      // \"hotelbaniathermalski\",\n      // \"hotelbukovina\",\n      // \"hotelcrocus\",\n      // \"hotelczarnypotokresortspakrynica\",\n      // \"hotelharnas\",\n      // \"hotelklimczok\",\n      // \"hotelkrysztal4\",\n      // \"hoteloliviamedicalspa\",\n      // \"hotelskalny\",\n      // \"hotelpegaz\",\n      // \"hotelpiotrspawellness\",\n      // \"hotelperlapoludnia1\",\n      // \"hotelprezydentmedicalspawellness\",\n      // \"hotelprzedwiosnie1\",\n      // \"hotelsasanka\",\n      // \"hotelspadrirenaeriskrynicazdroj\",\n      // \"hotelspadrirenaerispolanicazdrj\",\n      // \"hotelspadrirenaeriswzgorzadylewskie\",\n      // \"hotelstok\",\n      // \"hoteltoporow\",\n      // \"hotelwierchomla\",\n      // \"hotelzbjnicwka\",\n      // \"hotelzywieckimedicalspasport\",\n      // \"interferieaquaparksporthotelmalachit\",\n      // \"interferiesporthotelbornit\",\n      // \"kompleksszkoleniowowypoczynkowyskalnyspa\",\n      // \"lemonresort\",\n      // \"mazowszemedispa1\",\n      // \"modrzewieparkhotel1\",\n      // \"nosalowydworresort1\",\n      // \"odysseyclubhotel\",\n      // \"osadasniezka\",\n      // \"willabelweder\",\n      // \"zamekksiezagora\",\n    ]\n      .map((name) => [\n        // `https://booking.profitroom.com/pl/${name}/home?currency=PLN`,\n        // `https://booking.profitroom.com/pl/${name}/pricelist/offers/?check-in=2023-01-16&check-out=2023-01-22&currency=PLN&r1_adults=2&r1_child5-12=2`,\n        `https://booking.profitroom.com/api/${name}/details`,\n        // `https://booking.profitroom.com/api/${name}/availability?checkIn=2023-02-13&checkOut=2023-02-19&occupancy%5B0%5D%5Badults%5D=2&occupancy%5B0%5D%5Bchildren%5D%5B0%5D%5BminAge%5D=5&occupancy%5B0%5D%5Bchildren%5D%5B0%5D%5BmaxAge%5D=12&occupancy%5B0%5D%5Bchildren%5D%5B0%5D%5Bcount%5D=2`,\n      ])\n      .flat()\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 18 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\n      // [52.2329, 21.2252],\n      // [52.2329, 21.2252, \"transit\"],\n      // [52.1722, 21.1723],\n      // [52.1722, 21.1723, \"transit\"],\n      // [52.202, 21.1559],\n      // [52.202, 21.1559, \"transit\"],\n      // [52.201, 21.1294],\n      // [52.201, 21.1294, \"transit\"],\n    ]\n      // https://developers.google.com/maps/documentation/distance-matrix/distance-matrix#optional-parameters\n      .map(\n        ([lat, lng, travelmode = \"driving\"]) =>\n          // `https://www.google.com/maps/dir/${lat},${lng}/52.2268,20.9921/data=!4m2!4m1!3e0`\n          `https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(\n            [lat, lng].join(\",\"),\n          )}&destination=${encodeURIComponent(\n            [52.2268, 20.9921].join(\",\"),\n          )}&travelmode=${encodeURIComponent(travelmode)}&hl=pl`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i} 19 * * *` },\n        },\n      })),\n  )\n  .concat(\n    [\"ab75c33d-3a26-4342-b36a-6e5fef0a3ac3\"]\n      .map(\n        (id) =>\n          `https://api.um.warszawa.pl/api/action/dbstore_get/?id=${encodeURIComponent(\n            id,\n          )}`,\n      )\n      .map((url, i) => ({\n        data: {\n          url,\n        },\n        opts: {\n          repeat: { cron: `${i + 30} 22 * * *` },\n        },\n      })),\n  );\n","import { DataSchema, OptsSchema } from \"@dev/schema\";\nimport { seconds } from \"milliseconds\";\nimport React, {\n  useCallback,\n  useEffect,\n  // useId,\n  useMemo,\n  useState,\n  type ChangeEventHandler,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { z } from \"zod\";\nimport { Fieldset } from \"../components/Fieldset\";\nimport { Link } from \"../components/Link\";\nimport { Spinner } from \"../components/Spinner\";\nimport { SHOPS, records as initialRecords } from \"../records\";\n\nexport const API_URL = process.env.API_URL || \"\";\n\nexport const post = (path: string, data?: object, base = API_URL) =>\n  fetch(`${base}${path}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: data ? JSON.stringify(data) : null,\n  });\n\nconst TYPE = [\"repeatable\", \"delayed\"] as const;\nconst DELAY = [1, 5, 10, 15, 30] as const;\n\nconst scrap = async (item: object, text: string) =>\n  (console.info([text], { item }), post(\"scrap\", item, \"\"))\n    .then((response) => response.json())\n    .then((json) => json.returnvalue.json && post(\"parse\", json));\n\nexport default function Process({ getDelayed }: { getDelayed: () => void }) {\n  const [selected, setSelected] = useState<string[]>(() => []);\n  const [priority, setPriority] = useState<boolean>(() => false);\n  const [loading, setLoading] = useState(false);\n  const [type, setType] = useState<(typeof TYPE)[number]>(() => TYPE[1]);\n  const [delay, setDelay] = useState<(typeof DELAY)[number]>(() => DELAY[0]);\n  const [match, setMatch] = useState(() => ({\n    blocked: true,\n    type: \"\",\n    query: \"\",\n  }));\n  const [filters, setFilters] = useState(() => match);\n\n  const filters$ = useMemo(() => new Subject<typeof filters>(), []);\n\n  useEffect(() => {\n    const subscription = filters$\n      .pipe(\n        map(({ query, ...match }) =>\n          JSON.stringify({\n            ...match,\n            query: query.toLowerCase().trim(),\n          }),\n        ),\n        distinctUntilChanged(),\n        debounceTime(400),\n      )\n      .subscribe((filters) =>\n        setFilters((queries) => ({ ...queries, ...JSON.parse(filters) })),\n      );\n    return () => subscription.unsubscribe();\n  }, [filters$]);\n\n  useEffect(() => {\n    filters$.next(match);\n  }, [match]);\n\n  const [records, setRecords] = useState(() => initialRecords);\n\n  const entries = useMemo(\n    () =>\n      z\n        .object({\n          data: DataSchema,\n          opts: OptsSchema.extend(\n            priority\n              ? {\n                  priority: z.number().default(1),\n                }\n              : {},\n          ).transform(\n            ({ repeat, ...opts }) =>\n              ({\n                delayed: { ...opts, delay: seconds(delay) },\n                repeatable: { ...opts, repeat },\n              })[type],\n          ),\n        })\n        .transform((item) => ({ ...item, id: item.data.url }))\n        .array()\n        .parse(\n          records.filter(({ blocked = false }) => blocked === match.blocked),\n        ),\n    [type, delay, priority, records, match.blocked],\n  );\n\n  const list = useMemo(\n    () =>\n      entries.filter(\n        (item) => filters.query === \"\" || item.data.url.includes(filters.query),\n      ),\n    [entries, filters],\n  );\n\n  const onSelect = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setSelected((selected) =>\n        !target.checked\n          ? selected.filter((n) => n !== target.value)\n          : selected.concat(target.value),\n      ),\n    [],\n  );\n\n  const onChangeDelay = useCallback<ChangeEventHandler<HTMLSelectElement>>(\n    ({ target }) => setDelay(Number(target.value) as (typeof DELAY)[number]),\n    [],\n  );\n\n  // const typeId = useId();\n  const typeId = \"useId\";\n\n  const onChangeType = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) => setType(target.value as (typeof TYPE)[number]),\n    [],\n  );\n\n  const handleScrap = useCallback(\n    (item: object, text = \"scrap\") =>\n      (setLoading(true), scrap(item, text))\n        .catch(console.error)\n        .then(() => setLoading(false)),\n    [],\n  );\n\n  const handleAvailability = useCallback(\n    (id: string) =>\n      SHOPS\n        // .slice(0, 2)\n        .reduce<Promise<unknown>>(\n          (promise, areaName) =>\n            promise\n              .then(() =>\n                fetch(`shops/${id}?areaName=${encodeURIComponent(areaName)}`),\n              )\n              .then((res) => res.json())\n              .then((json) =>\n                console.log(\n                  { areaName },\n                  json.filter(\n                    ({ productAvailability }: any) =>\n                      ![\"UNAVAILABLE\"].includes(productAvailability),\n                  ),\n                ),\n              )\n              .then(\n                () =>\n                  new Promise((resolve) =>\n                    setTimeout(resolve, seconds(10 * Math.random())),\n                  ),\n              ),\n          Promise.resolve(),\n        ),\n    [],\n  );\n\n  const selectedIds = useMemo(\n    () => list.map((item) => item.id).filter((id) => selected.includes(id)),\n    [list, selected],\n  );\n\n  return (\n    <Fieldset legend=\"process\" expanded>\n      {/* <pre>{JSON.stringify(delayed, null, 2)}</pre> */}\n      <div>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={list.length > 0 && selectedIds.length === list.length}\n            disabled={list.length === 0}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                ((listIds) =>\n                  setSelected((selected) =>\n                    selected\n                      .filter((id) => !listIds.includes(id))\n                      .concat(target.checked ? listIds : []),\n                  ))(list.map((item) => item.id)),\n              [list],\n            )}\n          />\n        </label>\n        <span>{`${selected.length} / ${list.length}`}</span>{\" \"}\n        <label>\n          <span>query</span>\n          <input\n            type=\"search\"\n            value={match.query}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  query: target.value,\n                })),\n              [],\n            )}\n          />\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={match.blocked}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  blocked: target.checked,\n                })),\n              [],\n            )}\n          />\n          <span>blocked</span>\n        </label>\n        <span>\n          {TYPE.map((value) => (\n            <label key={value}>\n              <input\n                type=\"radio\"\n                name={typeId}\n                value={value}\n                onChange={onChangeType}\n                checked={type === value}\n              />\n              <span>{value}</span>\n            </label>\n          ))}\n          {type === \"delayed\" && (\n            <span>\n              {\" \"}\n              <select value={delay} onChange={onChangeDelay}>\n                {DELAY.map((value) => (\n                  <option key={value} value={value}>\n                    {`${value} s`}\n                  </option>\n                ))}\n              </select>\n            </span>\n          )}\n        </span>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={priority}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) => setPriority(target.checked),\n              [],\n            )}\n          />\n          <span>priority</span>\n        </label>\n        <button\n          onClick={useCallback(\n            () =>\n              list\n                .filter((item) => selected.includes(item.id))\n                .reduce<Promise<unknown>>(\n                  (promise, item) => promise.then(() => post(\"process\", item)),\n                  Promise.resolve(),\n                )\n                .then(() => setSelected([]))\n                .then(getDelayed),\n            [list, selected],\n          )}\n        >\n          {type === \"delayed\" ? \"process\" : \"add\"}\n        </button>\n        <button\n          onClick={useCallback(() => post(\"cleanup\").then(getDelayed), [])}\n        >\n          cleanup\n        </button>\n        <button\n          onClick={() =>\n            ((plu) => plu && handleAvailability(plu))(prompt(\"plu:\", \"1225761\"))\n          }\n        >\n          shops\n        </button>\n        <button\n          onClick={useCallback(() => {\n            const url = prompt(\"Url:\", \"https://\");\n\n            if (url) {\n              setRecords((records) =>\n                [\n                  {\n                    data: {\n                      url,\n                    },\n                    opts: {\n                      repeat: { cron: `0 19 * * *` },\n                    },\n                  },\n                ].concat(records),\n              );\n              setSelected([url]);\n            }\n          }, [])}\n        >\n          append url\n        </button>\n        <button\n          disabled={loading}\n          onClick={useCallback(\n            () =>\n              (setLoading(true), list)\n                .filter((item) => selected.includes(item.id))\n                .reduce<Promise<unknown>>(\n                  (promise, item, key, list) =>\n                    promise\n                      .then(() =>\n                        scrap(item, `scrap ${key + 1}/${list.length}`),\n                      )\n                      .then(() =>\n                        setSelected((selected) =>\n                          selected.filter((id) => id !== item.id),\n                        ),\n                      )\n                      .then(\n                        () =>\n                          key < list.length - 1 &&\n                          new Promise((resolve) =>\n                            setTimeout(resolve, seconds(10 * Math.random())),\n                          ),\n                      ),\n                  Promise.resolve(),\n                )\n                .catch(console.error)\n                .then(() => setLoading(false)),\n            [list, selected],\n          )}\n        >\n          scrap\n        </button>\n        {loading && <Spinner />}\n      </div>\n\n      {list.map((item: any) => (\n        <div key={item.id}>\n          <div>\n            <label\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                overflow: \"hidden\",\n              }}\n            >\n              <input\n                type=\"checkbox\"\n                value={item.id}\n                checked={selected.includes(item.id)}\n                onChange={onSelect}\n              />\n              <Link\n                href={item.id}\n                style={{\n                  flex: 1,\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  overflow: \"auto\",\n                }}\n                onClick={(e) => e.preventDefault()}\n              >\n                {item.id}\n              </Link>\n              {item.opts.repeat?.cron ? (\n                <pre\n                  style={{\n                    fontSize: \"xx-small\",\n                    margin: 4,\n                  }}\n                >\n                  {item.opts.repeat.cron}\n                </pre>\n              ) : (\n                <button disabled={loading} onClick={() => handleScrap(item)}>\n                  scrap\n                </button>\n              )}\n            </label>\n          </div>\n          {selected.includes(item.id) && (\n            <pre>{JSON.stringify(item, null, 2)}</pre>\n          )}\n        </div>\n      ))}\n    </Fieldset>\n  );\n}\n","import { EntriesSchema, Type } from \"@dev/schema\";\nimport { format } from \"date-fns\";\nimport prettyBytes from \"pretty-bytes\";\nimport React, {\n  type ChangeEventHandler,\n  type MouseEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { Subject, debounceTime, distinctUntilChanged, map } from \"rxjs\";\nimport { z } from \"zod\";\n\nimport { Spinner } from \"../components/Spinner\";\nimport { API_URL, post } from \"./Process\";\n\nconst GROUP_BY = {\n  _date: \"date\",\n  _url: \"url\",\n};\nconst PAGES = 50;\n\nconst PAGER = {\n  start: 0,\n  limit: 100,\n  data: false,\n  returnvalue: true,\n};\n\nexport default function Entries() {\n  const [bytes, setBytes] = useState(0);\n  const [pager, setPager] = useState(() => PAGER);\n  const [match, setMatch] = useState(() => ({\n    groupBy: Object.keys(GROUP_BY)[0],\n    type: \"\",\n    query: \"\",\n  }));\n  const [options] = useState(() => ({\n    type: [\"\"].concat(Object.values(Type)),\n  }));\n  const [loading, setLoading] = useState(false);\n  const [filters, setFilters] = useState(() => match);\n  const [entries, setEntries] = useState<\n    (z.infer<typeof EntriesSchema> & { error?: string })[]\n  >([]);\n  const [selected, setSelected] = useState<string[]>(() => []);\n\n  const onSelect = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setSelected((selected) =>\n        !target.checked\n          ? selected.filter((n) => n !== target.value)\n          : selected.concat(target.value),\n      ),\n    [],\n  );\n\n  const filters$ = useMemo(() => new Subject<typeof filters>(), []);\n\n  useEffect(() => {\n    const subscription = filters$\n      .pipe(\n        map(({ query, ...match }) =>\n          JSON.stringify({\n            ...match,\n            query: query.toLowerCase().trim(),\n          }),\n        ),\n        distinctUntilChanged(),\n        debounceTime(400),\n      )\n      .subscribe((filters) =>\n        setFilters((queries) => ({ ...queries, ...JSON.parse(filters) })),\n      );\n    return () => subscription.unsubscribe();\n  }, [filters$]);\n\n  useEffect(() => {\n    filters$.next(match);\n  }, [match]);\n\n  const list = useMemo(\n    () => (\n      console.log(filters),\n      entries.filter(\n        (item) =>\n          (filters.type === \"\" || filters.type === item.type) &&\n          (filters.query === \"\" || item.data.url.includes(filters.query)),\n      )\n    ),\n    [entries, filters],\n  );\n\n  console.log(list);\n\n  const grouped = useMemo(\n    () =>\n      list\n        .map((item) => ({\n          ...item,\n          _date: item.timestamp ? format(item.timestamp, \"yyyy-MM-dd\") : \"\",\n          _url: item.data.url || \"\",\n        }))\n        .reduce(\n          (grouped: Record<string, typeof list>, item) =>\n            ((group) =>\n              Object.assign(grouped, {\n                [group]: (grouped[group] || []).concat(item),\n              }))(item[match.groupBy as keyof typeof GROUP_BY]),\n          {},\n        ),\n    [list, match.groupBy],\n  );\n\n  const onSelectGroup = useCallback<MouseEventHandler<HTMLAnchorElement>>(\n    (event) => (\n      event.preventDefault(),\n      ((ids) =>\n        setSelected((selected) =>\n          selected.filter((id) => !ids.includes(id)).concat(ids),\n        ))(\n        event.target instanceof HTMLAnchorElement &&\n          event.target.dataset &&\n          event.target.dataset.group\n          ? grouped[event.target.dataset.group].map((item) => item.id)\n          : [],\n      )\n    ),\n    [grouped],\n  );\n\n  const fetchEntries = useCallback(\n    (pager: typeof PAGER) =>\n      (setLoading(true), post(\"entries\", pager))\n        .then(\n          (response) => (\n            setBytes(Number(response.headers.get(\"content-length\"))),\n            response.json()\n          ),\n        )\n        .then((list) =>\n          pager.data\n            ? z.any().array().parseAsync(list)\n            : Promise.all(\n                list.map((item: unknown) => EntriesSchema.parseAsync(item)),\n              ),\n        )\n        .then(setEntries)\n        .then(() => (setLoading(false), setSelected([]))),\n    [],\n  );\n\n  const selectedIds = useMemo(\n    () => list.map((item) => item.id).filter((id) => selected.includes(id)),\n    [list, selected],\n  );\n\n  const scrollTarget = useRef<HTMLFieldSetElement>(null);\n\n  return (\n    <fieldset ref={scrollTarget}>\n      <legend>entries</legend>\n      <div>\n        <label>\n          <span>limit</span>\n          <select\n            value={pager.limit}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) =>\n                setPager((pager) => ({\n                  ...pager,\n                  start: 0,\n                  limit: Number(target.value),\n                })),\n              [],\n            )}\n          >\n            {[1, 5, 10, 25, 50, 100, 250, 500, 1000].map((value) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>start</span>\n          <button\n            disabled={pager.start == 0}\n            onClick={useCallback(\n              () =>\n                setPager((pager) => ({\n                  ...pager,\n                  start: pager.start - pager.limit,\n                })),\n              [],\n            )}\n          >\n            &lsaquo;\n          </button>\n          <select\n            value={pager.start}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) =>\n                setPager((pager) => ({\n                  ...pager,\n                  start: Number(target.value),\n                })),\n              [],\n            )}\n          >\n            {[...Array(PAGES + 1)]\n              .map((_, value) => value * pager.limit)\n              .filter((value) => value < 10000)\n              .map((value) => (\n                <option key={value} value={value}>\n                  {value}\n                </option>\n              ))}\n          </select>\n          <button\n            disabled={pager.start === pager.limit * PAGES}\n            onClick={useCallback(\n              () =>\n                setPager((pager) => ({\n                  ...pager,\n                  start: pager.start + pager.limit,\n                })),\n              [],\n            )}\n          >\n            &rsaquo;\n          </button>\n        </label>\n        <button disabled={loading} onClick={() => fetchEntries(pager)}>\n          entries\n        </button>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={pager.data}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setPager((pager) => ({\n                  ...pager,\n                  data: target.checked,\n                })),\n              [],\n            )}\n          />\n          <span>data</span>\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={pager.returnvalue}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setPager((pager) => ({\n                  ...pager,\n                  returnvalue: target.checked,\n                })),\n              [],\n            )}\n          />\n          <span>returnvalue</span>\n        </label>\n        <button\n          disabled={loading}\n          onClick={() =>\n            setPager((pager) =>\n              ((pager) => (fetchEntries(pager), pager))({\n                ...pager,\n                start: 0,\n                limit: 5,\n              }),\n            )\n          }\n        >\n          top 5\n        </button>\n        <button\n          disabled={loading}\n          onClick={() =>\n            setPager((pager) =>\n              ((pager) => (fetchEntries(pager), pager))({\n                ...pager,\n                start: 0,\n                limit: 10,\n              }),\n            )\n          }\n        >\n          top 10\n        </button>\n        <button\n          disabled={loading}\n          onClick={() =>\n            setPager((pager) =>\n              ((pager) => (fetchEntries(pager), pager))({\n                ...pager,\n                start: 0,\n                limit: 100,\n              }),\n            )\n          }\n        >\n          top 100\n        </button>\n        <button\n          disabled={loading}\n          onClick={() =>\n            setPager((pager) =>\n              ((pager) => (fetchEntries(pager), pager))({\n                ...pager,\n                start: 3000,\n                limit: 100,\n              }),\n            )\n          }\n        >\n          3000+\n        </button>\n        <button\n          disabled={loading}\n          onClick={() =>\n            setPager((pager) =>\n              ((pager) => (fetchEntries(pager), pager))({\n                ...pager,\n                start: 5000,\n                limit: 100,\n              }),\n            )\n          }\n        >\n          5000+\n        </button>\n        {loading && <Spinner />}\n      </div>\n      <div>\n        <label>\n          <span>groupby</span>\n          <select\n            value={match.groupBy}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  groupBy: target.value,\n                })),\n              [],\n            )}\n          >\n            {Object.entries(GROUP_BY).map(([value, label]) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>type</span>\n          <select\n            value={match.type}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  type: target.value,\n                })),\n              [],\n            )}\n          >\n            {options.type.map((value) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>query</span>\n          <input\n            type=\"search\"\n            value={match.query}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  query: target.value,\n                })),\n              [],\n            )}\n          />\n        </label>\n        {bytes > 0 && <span>{prettyBytes(bytes)}</span>}\n      </div>\n      <div>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={list.length > 0 && selectedIds.length === list.length}\n            disabled={list.length === 0}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                ((listIds) =>\n                  setSelected((selected) =>\n                    selected\n                      .filter((id) => !listIds.includes(id))\n                      .concat(target.checked ? listIds : []),\n                  ))(list.map((item) => item.id)),\n              [list],\n            )}\n          />\n        </label>\n        <span>{`${selected.length} / ${list.length}`}</span>{\" \"}\n        <button\n          disabled={selected.length === 0}\n          onClick={useCallback(\n            () =>\n              post(\"entries/delete\", { selected })\n                .then((response) => response.json())\n                .then(() =>\n                  setEntries((entries) =>\n                    entries.filter(({ id }) => !selected.includes(id)),\n                  ),\n                )\n                .then(() => setSelected([])),\n            [selected],\n          )}\n        >\n          delete\n        </button>\n      </div>\n      <div style={loading ? { opacity: 0.5 } : {}}>\n        {Object.entries(grouped).map(([group, list]: any) => (\n          <section key={group}>\n            {group && (\n              <div>\n                <strong>\n                  <a href=\"#\" onClick={onSelectGroup} data-group={group}>\n                    {group}\n                  </a>\n                </strong>\n              </div>\n            )}\n            <div>\n              {list.map(({ error, ...item }) => (\n                <div key={item.id} style={error ? { color: \"red\" } : {}}>\n                  <div>\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        value={item.id}\n                        checked={selected.includes(item.id)}\n                        onChange={onSelect}\n                      />\n                      {item.timestamp && (\n                        <span>\n                          {format(item.timestamp, \"yyyy-MM-dd HH:mm:ss\")}\n                        </span>\n                      )}\n                    </label>{\" \"}\n                    | <a href={`${API_URL}entry/${item.id}`}>item</a> |{\" \"}\n                    <a href={`${API_URL}json/${item.id}`}>json</a> |{\" \"}\n                    <a href={`${API_URL}html/${item.id}`}>html</a> |{\" \"}\n                    <a href={item.data.url}>open</a> |{\" \"}\n                    <a href={`${API_URL}delete/${item.id}`}>delete</a>\n                  </div>\n                  <pre>\n                    {JSON.stringify(\n                      selected.includes(item.id)\n                        ? item\n                        : z\n                            .object({\n                              id: z.string(),\n                              data: z\n                                .object({\n                                  data: z\n                                    .object({\n                                      url: z.string(),\n                                    })\n                                    .optional(),\n                                  url: z.string().optional(),\n                                })\n                                .transform(({ data, url }) => url || data.url),\n                              type: z.string().optional(),\n                            })\n                            .parse(item),\n                      null,\n                      2,\n                    )}\n                  </pre>\n                  {error && selected.includes(item.id) && <pre>{error}</pre>}\n                </div>\n              ))}\n            </div>\n          </section>\n        ))}\n      </div>\n      {list.length > 0 && list.length === pager.limit && (\n        <div>\n          <button\n            disabled={loading}\n            onClick={() =>\n              // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView?ref=code-frontend#parameters\n              (\n                scrollTarget.current?.scrollIntoView({\n                  behavior: \"auto\",\n                  block: \"start\",\n                  inline: \"nearest\",\n                }),\n                setPager((pager) =>\n                  ((pager) => (fetchEntries(pager), pager))({\n                    ...pager,\n                    start: pager.start + pager.limit,\n                  }),\n                )\n              )\n            }\n          >\n            next &rsaquo;\n          </button>\n        </div>\n      )}\n    </fieldset>\n  );\n}\n","import { FailedSchema } from \"@dev/schema\";\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n  type ChangeEventHandler,\n  type Dispatch,\n  type SetStateAction,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { z } from \"zod\";\nimport { Fieldset } from \"../components/Fieldset\";\nimport { Spinner } from \"../components/Spinner\";\nimport { API_URL, post } from \"./Process\";\n\ntype FailedType = z.infer<typeof FailedSchema>;\n\nfunction Failed({\n  loading,\n  setLoading,\n  failed,\n  setFailed,\n  getFailed,\n  selected,\n  setSelected,\n}: {\n  loading: boolean;\n  setLoading: Dispatch<SetStateAction<boolean>>;\n  failed: FailedType;\n  setFailed: Dispatch<SetStateAction<FailedType>>;\n  getFailed: () => void;\n  selected: string[];\n  setSelected: Dispatch<SetStateAction<string[]>>;\n}) {\n  const [match, setMatch] = useState(() => ({\n    query: \"\",\n  }));\n\n  const [filters, setFilters] = useState(() => match);\n\n  const filters$ = useMemo(() => new Subject<typeof filters>(), []);\n\n  useEffect(() => {\n    const subscription = filters$\n      .pipe(\n        map(({ query, ...match }) =>\n          JSON.stringify({\n            ...match,\n            query: query.toLowerCase().trim(),\n          }),\n        ),\n        distinctUntilChanged(),\n        debounceTime(400),\n      )\n      .subscribe((filters) =>\n        setFilters((queries) => ({ ...queries, ...JSON.parse(filters) })),\n      );\n    return () => subscription.unsubscribe();\n  }, [filters$]);\n\n  useEffect(() => {\n    filters$.next(match);\n  }, [match]);\n\n  useEffect(() => {\n    getFailed();\n  }, []);\n\n  const onSelect = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setSelected((selected) =>\n        !target.checked\n          ? selected.filter((n) => n !== target.value)\n          : selected.concat(target.value),\n      ),\n    [],\n  );\n\n  const list = useMemo(\n    () => (\n      console.log(filters),\n      failed.filter(\n        (item) =>\n          // (filters.type === \"\" || filters.type === item.type) &&\n          filters.query === \"\" ||\n          (item.data.url && item.data.url.includes(filters.query)),\n      )\n    ),\n    [failed, filters],\n  );\n\n  const selectedIds = useMemo(\n    () => list.map((item) => item.id).filter((id) => selected.includes(id)),\n    [list, selected],\n  );\n\n  const topIds = useMemo(\n    () => list.map((item) => item.id).filter((_id, key) => key < 10),\n    [list],\n  );\n\n  return (\n    <Fieldset legend=\"failed\">\n      <div style={{ float: \"right\" }}>\n        {[\"al.to\", \"otodom\", \"olx\", \"x-kom\"].map((query, index) => (\n          <span key={index}>\n            {index > 0 ? ` | ` : ``}\n            <a\n              href=\"#\"\n              onClick={(e) => (\n                e.preventDefault(),\n                setMatch((match) => ({\n                  ...match,\n                  query,\n                }))\n              )}\n            >\n              {query}\n            </a>\n          </span>\n        ))}\n      </div>\n      {/* <pre>{JSON.stringify(failed, null, 2)}</pre> */}\n      <div>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={failed.length > 0 && selectedIds.length === list.length}\n            disabled={failed.length === 0}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                ((listIds) =>\n                  setSelected((selected) =>\n                    selected\n                      .filter((id) => !listIds.includes(id))\n                      .concat(target.checked ? listIds : []),\n                  ))(list.map((item) => item.id)),\n              [list],\n            )}\n          />\n        </label>\n        <span>{`${selected.length} / ${list.length}`}</span>{\" \"}\n        <label>\n          <span>query</span>\n          <input\n            type=\"search\"\n            value={match.query}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  query: target.value,\n                })),\n              [],\n            )}\n          />\n        </label>\n        <button\n          disabled={selected.length === 0 || loading}\n          onClick={useCallback(\n            () =>\n              (setLoading(true), post(\"entries/delete\", { selected }))\n                .then((response) => response.json())\n                .then(() =>\n                  setFailed((failed) =>\n                    failed.filter(({ id }) => !selected.includes(id)),\n                  ),\n                )\n                .then(() => (setLoading(false), setSelected([]))),\n            [selected],\n          )}\n        >\n          delete\n        </button>\n        <button\n          disabled={selected.length === 0 || loading}\n          onClick={useCallback(\n            () =>\n              (setLoading(true), post(\"failed/retry\", { selected }))\n                .then((response) => response.json())\n                .then(() =>\n                  setFailed((failed) =>\n                    failed.filter(({ id }) => !selected.includes(id)),\n                  ),\n                )\n                .then(() => (setLoading(false), setSelected([]))),\n            [selected],\n          )}\n        >\n          retry\n        </button>\n        <button\n          disabled={topIds.length === 0 || loading}\n          onClick={useCallback(\n            () =>\n              (setLoading(true), post(\"failed/retry\", { selected: topIds }))\n                .then((response) => response.json())\n                .then(() =>\n                  setFailed((failed) =>\n                    failed.filter(({ id }) => !topIds.includes(id)),\n                  ),\n                )\n                .then(\n                  () => (\n                    setLoading(false),\n                    setSelected((selected) =>\n                      selected.filter((id) => !topIds.includes(id)),\n                    )\n                  ),\n                ),\n            [topIds],\n          )}\n        >\n          {`retry top ${topIds.length}`}\n        </button>\n        <button disabled={loading} onClick={useCallback(getFailed, [])}>\n          refresh\n        </button>\n        {loading && <Spinner />}\n      </div>\n      {list.map((item) => (\n        <div key={item.id}>\n          <div>\n            <label>\n              <input\n                type=\"checkbox\"\n                value={item.id}\n                checked={selected.includes(item.id)}\n                onChange={onSelect}\n              />\n              <span>{item.id}</span>\n            </label>{\" \"}\n            | <a href={item.data.url}>open</a> |{\" \"}\n            <a href={`${API_URL}delete/${item.id}`}>delete</a>\n          </div>\n          <pre>\n            {JSON.stringify(\n              selected.includes(item.id)\n                ? item\n                : z\n                    .object({\n                      id: z.string(),\n                      name: z.string(),\n                      data: z\n                        .object({ url: z.string().optional() })\n                        .transform(({ url }) => url),\n                    })\n                    .transform(({ data, name, ...rest }) =>\n                      data\n                        ? {\n                            ...rest,\n                            data,\n                          }\n                        : {\n                            ...rest,\n                            name,\n                          },\n                    )\n                    .parse(item),\n              null,\n              2,\n            )}\n          </pre>\n        </div>\n      ))}\n    </Fieldset>\n  );\n}\n\nexport default function Section() {\n  const [selected, setSelected] = useState<string[]>(() => []);\n  const [loading, setLoading] = useState(false);\n  const [failed, setFailed] = useState<FailedType>(() => []);\n  const getFailed = useCallback(\n    () =>\n      (setLoading(true), post(\"failed\", {}))\n        .then((response) => response.json())\n        .then(FailedSchema.parseAsync)\n        .then(setFailed)\n        .then(() => (setLoading(false), setSelected([]))),\n    [],\n  );\n\n  return (\n    <>\n      <Failed\n        loading={loading}\n        setLoading={setLoading}\n        failed={failed}\n        setFailed={setFailed}\n        getFailed={getFailed}\n        selected={selected}\n        setSelected={setSelected}\n      />\n    </>\n  );\n}\n","import React, {\n  type ChangeEventHandler,\n  type Dispatch,\n  type SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { z } from \"zod\";\nimport { DelayedSchema } from \"@dev/schema\";\nimport { Fieldset } from \"../components/Fieldset\";\nimport { Spinner } from \"../components/Spinner\";\nimport Process, { API_URL, post } from \"./Process\";\nimport Failed from \"./Failed\";\n\ntype DelayedType = z.infer<typeof DelayedSchema>;\n\nfunction Delayed({\n  loading,\n  setLoading,\n  delayed,\n  setDelayed,\n  getDelayed,\n  selected,\n  setSelected,\n}: {\n  loading: boolean;\n  setLoading: Dispatch<SetStateAction<boolean>>;\n  delayed: DelayedType;\n  setDelayed: Dispatch<SetStateAction<DelayedType>>;\n  getDelayed: () => void;\n  selected: string[];\n  setSelected: Dispatch<SetStateAction<string[]>>;\n}) {\n  const [match, setMatch] = useState(() => ({\n    query: \"\",\n  }));\n\n  const [filters, setFilters] = useState(() => match);\n\n  const filters$ = useMemo(() => new Subject<typeof filters>(), []);\n\n  useEffect(() => {\n    const subscription = filters$\n      .pipe(\n        map(({ query, ...match }) =>\n          JSON.stringify({\n            ...match,\n            query: query.toLowerCase().trim(),\n          }),\n        ),\n        distinctUntilChanged(),\n        debounceTime(400),\n      )\n      .subscribe((filters) =>\n        setFilters((queries) => ({ ...queries, ...JSON.parse(filters) })),\n      );\n    return () => subscription.unsubscribe();\n  }, [filters$]);\n\n  useEffect(() => {\n    filters$.next(match);\n  }, [match]);\n\n  useEffect(() => {\n    getDelayed();\n  }, []);\n\n  const onSelect = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setSelected((selected) =>\n        !target.checked\n          ? selected.filter((n) => n !== target.value)\n          : selected.concat(target.value),\n      ),\n    [],\n  );\n\n  const list = useMemo(\n    () => (\n      console.log(filters),\n      delayed.filter(\n        (item) =>\n          // (filters.type === \"\" || filters.type === item.type) &&\n          filters.query === \"\" ||\n          (typeof item.data.url === \"string\" &&\n            item.data.url.includes(filters.query)),\n      )\n    ),\n    [delayed, filters],\n  );\n\n  const selectedIds = useMemo(\n    () => list.map((item) => item.id).filter((id) => selected.includes(id)),\n    [list, selected],\n  );\n\n  return (\n    <Fieldset legend=\"delayed\">\n      {/* <pre>{JSON.stringify(delayed, null, 2)}</pre> */}\n      <div>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={delayed.length > 0 && selectedIds.length === list.length}\n            disabled={delayed.length === 0}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                ((listIds) =>\n                  setSelected((selected) =>\n                    selected\n                      .filter((id) => !listIds.includes(id))\n                      .concat(target.checked ? listIds : []),\n                  ))(list.map((item) => item.id)),\n              [list],\n            )}\n          />\n        </label>\n        <span>{`${selected.length} / ${list.length}`}</span>{\" \"}\n        <label>\n          <span>query</span>\n          <input\n            type=\"search\"\n            value={match.query}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setMatch((match) => ({\n                  ...match,\n                  query: target.value,\n                })),\n              [],\n            )}\n          />\n        </label>\n        <button\n          disabled={selected.length === 0 || loading}\n          onClick={useCallback(\n            () =>\n              (setLoading(true), post(\"entries/delete\", { selected }))\n                .then((response) => response.json())\n                .then(() =>\n                  setDelayed((delayed) =>\n                    delayed.filter(({ id }) => !selected.includes(id)),\n                  ),\n                )\n                .then(() => (setLoading(false), setSelected([]))),\n            [selected],\n          )}\n        >\n          delete\n        </button>\n        <button disabled={loading} onClick={useCallback(getDelayed, [])}>\n          refresh\n        </button>\n        {loading && <Spinner />}\n      </div>\n      {list.map((item) => (\n        <div key={item.id}>\n          <div>\n            <label>\n              <input\n                type=\"checkbox\"\n                value={item.id}\n                checked={selected.includes(item.id)}\n                onChange={onSelect}\n              />\n              <span>{item.id}</span>\n            </label>{\" \"}\n            | <a href={item.data.url}>open</a> |{\" \"}\n            <a href={`${API_URL}delete/${item.id}`}>delete</a>\n          </div>\n          <pre>\n            {JSON.stringify(\n              selected.includes(item.id)\n                ? item\n                : z\n                    .object({\n                      id: z.string(),\n                      // name: z.string(),\n                      data: z\n                        .object({ url: z.string().optional() })\n                        .transform(({ url }) => url),\n                    })\n                    .parse(item),\n              null,\n              2,\n            )}\n          </pre>\n        </div>\n      ))}\n    </Fieldset>\n  );\n}\n\nexport default function Section() {\n  const [selected, setSelected] = useState<string[]>(() => []);\n  const [loading, setLoading] = useState(false);\n  const [delayed, setDelayed] = useState<z.infer<typeof DelayedSchema>>(\n    () => [],\n  );\n  const getDelayed = useCallback(\n    () =>\n      (setLoading(true), post(\"delayed\", {}))\n        .then((response) => response.json())\n        .then(DelayedSchema.parseAsync)\n        .then(setDelayed)\n        .then(() => (setLoading(false), setSelected([]))),\n    [],\n  );\n\n  return (\n    <>\n      <Delayed\n        loading={loading}\n        setLoading={setLoading}\n        delayed={delayed}\n        setDelayed={setDelayed}\n        getDelayed={getDelayed}\n        selected={selected}\n        setSelected={setSelected}\n      />\n      <Failed />\n      <Process getDelayed={getDelayed} />\n    </>\n  );\n}\n","import React from \"react\";\n\nimport Entries from \"./Entries\";\nimport Delayed from \"./Delayed\";\n\nexport default function Section() {\n  return (\n    <section>\n      <h2>\n        Hello <a href=\"board\">board</a>\n      </h2>\n      <Delayed />\n      <Entries />\n    </section>\n  );\n}\n"],"names":["Action","_super","scheduler","work","call","this","prototype","schedule","state","delay","intervalProvider","setInterval","handler","timeout","args","_i","arguments","length","delegate","apply","clearInterval","handle","undefined","AsyncAction","_this","pending","_a","closed","id","recycleAsyncId","requestAsyncId","_id","flush","bind","_scheduler","execute","Error","error","_execute","_delay","errorValue","errored","e","unsubscribe","actions","arrRemove","dateTimestampProvider","now","Date","Scheduler","schedulerActionCtor","asyncScheduler","AsyncScheduler","SchedulerAction","_active","action","push","shift","debounceTime","dueTime","source","subscriber","activeTask","lastValue","lastTime","emit","value","next","emitWhenIdle","targetTime","add","subscribe","complete","chunk","collection","size","result","parseInt","x","Math","ceil","start","end","slice","module","exports","ObjectUnsubscribedError","name","message","Subject","currentObservers","observers","isStopped","hasError","thrownError","lift","operator","subject","AnonymousSubject","_throwIfClosed","errorContext","e_1","Array","from","_b","_c","done","e_1_1","return","err","Object","defineProperty","get","enumerable","configurable","_trySubscribe","_subscribe","_checkFinalizedStatuses","_innerSubscribe","Subscription","asObservable","observable","Observable","create","destination","calc","m","n","round","seconds","minutes","hours","days","weeks","months","years","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","first","currentKey","a","b","BYTE_UNITS","BIBYTE_UNITS","BIT_UNITS","BIBIT_UNITS","toLocaleString","number","locale","options","isArray","log10","numberOrBigInt","string","toString","log","divide","divisor","integerPart","BigInt","remainder","Number","prettyBytes","isFinite","TypeError","UNITS","bits","binary","space","separator","signed","isNegative","prefix","localeOptions","minimumFractionDigits","maximumFractionDigits","exponent","min","floor","minPrecision","max","toPrecision","Type","AUTOS","AUTOS_ITEM","DEPOT","DIRECTIONS","EURO","FLATS","FUNDS","GAMES","GPASS","HOTSHOT","LECLERC","MACAN","PLOTS","PROMO","PROMO_ITEM","OTODOM","OTODOM_OFFER","OTOMOTO","OTOMOTO_OFFER","PRODUCTS","PRODUCTS2","RATES","ROOMS","RYNEK","SALOM","STATIONS","STATION","STOCK","ROSSM","THULE","UNKNOWN","DataSchema","z","url","body","passthrough","optional","OptsSchema","default","priority","removeOnComplete","repeat","cron","timestamp","ReturnSchema","data","DelayedSchema","opts","transform","extend","count","key","strict","jobId","backoff","type","prevMillis","attempts","progress","attemptsMade","stacktrace","returnvalue","debounceId","failedReason","finishedOn","nullable","processedOn","array","EntriesSchema","FailedSchema","StyledSpinner","styled","div","Spinner","React","className","viewBox","cx","cy","r","fill","strokeWidth","StyledFieldset","fieldset","StyledLegend","legend","Fieldset","children","expanded","initiallyExpanded","setExpanded","useState","handleExpand","useCallback","preventDefault","href","onClick","Link","props","hash","_extends","target","rel","SHOPS","records","searchContext","productTypes","salesDestinations","onlineStatus","model","marketingModelRange","resultsContext","sort","by","order","blocked","concat","map","cat","i","fund","ids","join","path","flat","lat","lng","travelmode","encodeURIComponent","API_URL","post","base","fetch","method","headers","JSON","stringify","TYPE","DELAY","scrap","async","item","text","console","info","then","response","json","Process","getDelayed","selected","setSelected","setPriority","loading","setLoading","setType","setDelay","match","setMatch","query","filters","setFilters","filters$","useMemo","useEffect","subscription","pipe","toLowerCase","trim","queries","parse","setRecords","initialRecords","entries","delayed","repeatable","filter","list","includes","onSelect","checked","onChangeDelay","onChangeType","handleScrap","catch","handleAvailability","reduce","promise","areaName","res","productAvailability","Promise","resolve","setTimeout","random","selectedIds","disabled","onChange","listIds","plu","prompt","style","display","flexDirection","overflow","flex","textOverflow","whiteSpace","fontSize","margin","GROUP_BY","_date","_url","PAGES","PAGER","limit","Entries","bytes","setBytes","pager","setPager","groupBy","keys","values","setEntries","grouped","format","group","assign","onSelectGroup","event","HTMLAnchorElement","dataset","fetchEntries","parseAsync","all","scrollTarget","useRef","ref","_","label","opacity","color","current","scrollIntoView","behavior","block","inline","Failed","failed","setFailed","getFailed","topIds","float","index","rest","Section","Delayed","setDelayed"],"sourceRoot":""}