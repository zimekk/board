{"version":3,"file":"991.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/use-asset/dist/index.js","webpack://@dev/web/./src/containers/Hello.module.scss?8d3b","webpack://@dev/web/./src/containers/Hello.tsx","webpack://@dev/web/./src/containers/Hello.module.scss","webpack://@dev/web/../../node_modules/fast-deep-equal/index.js"],"sourcesContent":["import deepEqual from 'fast-deep-equal';\n\nconst globalCache = [];\n\nfunction handleAsset(fn, cache, args, lifespan = 0, preload = false) {\n  for (const entry of cache) {\n    // Find a match\n    if (deepEqual(args, entry.args)) {\n      // If we're pre-loading and the element is present, just return\n      if (preload) return; // If an error occurred, throw\n\n      if (entry.error) throw entry.error; // If a response was successful, return\n\n      if (entry.response) return entry.response; // If the promise is still unresolved, throw\n\n      throw entry.promise;\n    }\n  } // The request is new or has changed.\n\n\n  const entry = {\n    args,\n    promise: // Make the promise request.\n    fn(...args) // Response can't be undefined or else the loop above wouldn't be able to return it\n    // This is for promises that do not return results (delays for instance)\n    .then(response => entry.response = response != null ? response : true).catch(e => entry.error = e != null ? e : 'unknown error').then(() => {\n      if (lifespan > 0) {\n        setTimeout(() => {\n          const index = cache.indexOf(entry);\n          if (index !== -1) cache.splice(index, 1);\n        }, lifespan);\n      }\n    })\n  };\n  cache.push(entry);\n  if (!preload) throw entry.promise;\n}\n\nfunction clear(cache, ...args) {\n  if (args === undefined || args.length === 0) cache.splice(0, cache.length);else {\n    const entry = cache.find(entry => deepEqual(args, entry.args));\n\n    if (entry) {\n      const index = cache.indexOf(entry);\n      if (index !== -1) cache.splice(index, 1);\n    }\n  }\n}\n\nfunction createAsset(fn, lifespan = 0) {\n  const cache = [];\n  return {\n    /**\n     * @throws Suspense Promise if asset is not yet ready\n     * @throws Error if the promise rejected for some reason\n     */\n    read: (...args) => handleAsset(fn, cache, args, lifespan),\n    preload: (...args) => void handleAsset(fn, cache, args, lifespan, true),\n    clear: (...args) => clear(cache, ...args),\n    peek: (...args) => {\n      var _cache$find;\n\n      return (_cache$find = cache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _cache$find.response;\n    }\n  };\n}\n\nfunction useAsset(fn, ...args) {\n  return handleAsset(fn, globalCache, args, useAsset.lifespan);\n}\n\nuseAsset.lifespan = 0;\n\nuseAsset.clear = (...args) => clear(globalCache, ...args);\n\nuseAsset.preload = (fn, ...args) => void handleAsset(fn, globalCache, args, useAsset.lifespan, true);\n\nuseAsset.peek = (...args) => {\n  var _globalCache$find;\n\n  return (_globalCache$find = globalCache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _globalCache$find.response;\n};\n\nexport { createAsset, useAsset };\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Hello.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Hello.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from \"react\";\nimport { createAsset } from \"use-asset\";\nimport styles from \"./Hello.module.scss\";\n\nconst asset = createAsset(async (version = 1) => {\n  const res = await fetch(`api/data.json?${version}`);\n  return await res.json();\n});\n\nexport default function Section() {\n  const data = asset.read(); // As many cache keys as you need\n  return (\n    <section className={styles.Section}>\n      <h2>Hello</h2>\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </section>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bsKDZ3k4BYw9qWm0kDlR{color:blue}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Hello.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,UAAA\",\"sourcesContent\":[\".Section {\\n  color: blue;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"bsKDZ3k4BYw9qWm0kDlR\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"names":["globalCache","handleAsset","fn","cache","args","lifespan","preload","entry","error","response","promise","then","catch","e","setTimeout","index","indexOf","splice","push","clear","undefined","length","find","useAsset","peek","_globalCache$find","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","asset","read","_cache$find","createAsset","async","version","res","fetch","json","Section","data","className","styles","JSON","stringify","___CSS_LOADER_EXPORT___","module","id","locals","exports","equal","a","b","constructor","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key"],"sourceRoot":""}