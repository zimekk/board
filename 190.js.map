{"version":3,"file":"190.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js","webpack://@dev/web/../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/factoryWithThrowingShims.js","webpack://@dev/web/../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://@dev/web/../../node_modules/.pnpm/@webrtc-remote-control+core@0.1.3_peerjs@1.5.5/node_modules/@webrtc-remote-control/core/dist/index.modern.js","webpack://@dev/web/../../node_modules/.pnpm/@webrtc-remote-control+react@0.1.3_peerjs@1.5.5_react@18.3.1/node_modules/@webrtc-remote-control/react/dist/react.modern.js","webpack://@dev/web/../webrtc/src/containers/ErrorsDisplay.tsx","webpack://@dev/web/../webrtc/src/containers/CounterDisplay.tsx","webpack://@dev/web/../webrtc/src/containers/RemotesList.tsx","webpack://@dev/web/../webrtc/src/containers/ConsoleDisplay.tsx","webpack://@dev/web/../webrtc/src/containers/react-common.ts","webpack://@dev/web/../webrtc/src/containers/Master.tsx","webpack://@dev/web/../webrtc/src/containers/RemoteCountControl.tsx","webpack://@dev/web/../webrtc/src/containers/RemoteNameControl.tsx","webpack://@dev/web/../webrtc/src/containers/Remote.tsx","webpack://@dev/web/../webrtc/src/containers/index.tsx","webpack://@dev/web/../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import e from\"eventemitter3\";function o(){return o=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},o.apply(this,arguments)}function n(){const e=\"from-webrtc-remote-control\";return{isConnectionFromRemote:o=>o.metadata===e,connMetadata:e}}function t({sessionStorageKey:e,humanErrors:t}={}){const r=function({mapping:e,withTechicalErrorMessage:n}={mapping:{},withTechicalErrorMessage:!0}){const t=o({\"browser-incompatible\":\"Your browser doesn't support WebRTC features, please try with a recent browser.\",disconnected:\"You are disconnected and can't make any more peer connection, please reload.\",network:\"It seems you're experimenting some network problems.\",\"peer-unavailable\":\"The peer you were connected to seems to have lost connection, try to reload it.\",\"server-error\":\"An error occured on the signaling server. Sorry, try to come back later.\",default:e=>\"An error occured\"+(e.type?` - type: ${e.type}`:\"\")},e);return function(e){const o=t[e.type]||(\"function\"==typeof t.default?t.default(e):t.default);return o&&e.message&&n?`${o} (${e.message})`:o}}(t),{isConnectionFromRemote:s}=n(),{getPeerId:i,setPeerIdToSessionStorage:a}=function(e=\"webrtc-remote-control-peer-id\"){return{getPeerId:()=>sessionStorage.getItem(e),setPeerIdToSessionStorage(o){sessionStorage.setItem(e,o)}}}(e);return{humanizeError:r,isConnectionFromRemote:s,getPeerId:i,setPeerIdToSessionStorage:a}}var r={__proto__:null,default:function({humanizeError:o,isConnectionFromRemote:n,getPeerId:t,setPeerIdToSessionStorage:r}){return{humanizeError:o,isConnectionFromRemote:n,getPeerId:t,bindConnection:o=>new Promise(t=>{const s=new e,i=new Map,a={sendTo(e,o){const n=i.get(e);return n?n.send(o):null},sendAll(e){[...i.values()].forEach(o=>{o.send(e)})},on:s.on.bind(s),off:s.off.bind(s)};o.on(\"open\",e=>{r(e),t(a)}),o.on(\"connection\",e=>{n(e)&&(i.set(e.peer,e),e.on(\"open\",()=>{s.emit(\"remote.connect\",{id:e.peer}),console.log(\"connections\",i)}),e.on(\"data\",o=>{s.emit(\"data\",{id:e.peer,from:\"remote\"},o)}),e.on(\"close\",()=>{i.delete(e.peer),s.emit(\"remote.disconnect\",{id:e.peer}),console.log(\"connections\",i)}))})})}},prepareUtils:t},s={__proto__:null,default:function({humanizeError:o,getPeerId:t,setPeerIdToSessionStorage:r}){return{humanizeError:o,getPeerId:t,bindConnection:(o,t)=>new Promise(s=>{let i=null;const a=new e,c={send(e){i?i.send(e):console.warning(\"You called `send` with no connection\")},on:a.on.bind(a),off:a.off.bind(a)},d=e=>{i=null,i=function(e,o,t,r){const{connMetadata:s}=n(),i=e.connect(o,{serialization:\"json\",metadata:s});return i.on(\"open\",()=>{\"function\"==typeof r&&r()}),i.on(\"data\",e=>{t.emit(\"data\",{from:\"master\"},e)}),i}(o,t,a,e),i.on(\"close\",()=>{a.emit(\"remote.disconnect\",{id:o.id}),d(()=>{a.emit(\"remote.reconnect\",{id:o.id})})})};o.on(\"open\",e=>{r(e),d(()=>s(c)),i.on(\"error\",e=>{console.log(\"conn.error\",e)}),window.addEventListener(\"beforeunload\",()=>{i&&i.disconnect&&i.disconnect()})})})}},prepareUtils:t};export{r as master,t as prepareUtils,s as remote};\n//# sourceMappingURL=index.modern.js.map\n","import React, { createContext, useRef, useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { prepareUtils, master, remote } from '@webrtc-remote-control/core';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nconst MyContext = createContext();\nfunction Provider({\n  children,\n  sessionStorageKey,\n  humanErrors,\n  mode,\n  masterPeerId,\n  init\n}) {\n  const allowedMode = [\"master\", \"remote\"];\n\n  if (!allowedMode.includes(mode)) {\n    throw new Error(`Unsupported \"${mode}\" mode. Only ${allowedMode.map(a => `\"${a}\"`).join(\", \")} accepted.`);\n  }\n\n  if (mode === \"master\" && masterPeerId) {\n    console.log(typeof masterPeerId);\n    throw new Error(`\\`masterPeerId\\` prop not allowed in \"master\" mode - \"${masterPeerId}\" was passed.`);\n  }\n\n  if (mode === \"remote\" && !masterPeerId) {\n    throw new Error(`\\`masterPeerId\\` prop required in \"remote\" mode.`);\n  }\n\n  const utils = prepareUtils({\n    sessionStorageKey,\n    humanErrors\n  });\n  const providerValue = useRef({\n    peer: null,\n    promise: null,\n    mode,\n    masterPeerId\n  });\n  useEffect(() => {\n    // expose the following on the ref forwarded to the provider\n    providerValue.current.mode = mode;\n    providerValue.current.humanizeError = utils.humanizeError;\n\n    if (mode === \"master\") {\n      providerValue.current.isConnectionFromRemote = utils.isConnectionFromRemote;\n    } // init callback that should return a peer instance like:\n    // `({ getPeerId }) => new Peer(getPeerId())`\n\n\n    providerValue.current.peer = init({\n      humanizeError: utils.humanizeError,\n      getPeerId: utils.getPeerId,\n      isConnectionFromRemote: mode === \"master\" ? utils.isConnectionFromRemote : undefined\n    });\n    providerValue.current.promise = (mode === \"master\" ? master : remote).default(utils).bindConnection(providerValue.current.peer, remote ? masterPeerId : undefined); // start resolving the promise as soon as possible (it will be used in `usePeer`)\n\n    providerValue.current.promise.then(() => {});\n    return () => {\n      if (providerValue.current) {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        providerValue.current.peer.disconnect();\n      }\n    };\n  }, [mode, masterPeerId, init, utils]);\n  return /*#__PURE__*/React.createElement(MyContext.Provider, {\n    value: providerValue.current\n  }, children);\n}\nProvider.propTypes = {\n  children: PropTypes.any,\n  sessionStorageKey: PropTypes.string,\n  humanErrors: PropTypes.object,\n  mode: PropTypes.oneOf([\"master\", \"remote\"]),\n  masterPeerId: PropTypes.string,\n  init: PropTypes.func\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction usePeer() {\n  // track if the hook is fully ready\n  const [ready, setReady] = useState(false); // track if the peer object is ready (to allow consumer to subscribe to error event)\n\n  const [, setPeerReady] = useState(false);\n  const context = useContext(MyContext);\n  const resolvedWrcApi = useRef(null);\n  useEffect(() => {\n    // run on next tick (ensure the `then` of the Provider has executed + retrieve the api from the resolve promise)\n    Promise.resolve().then(() => {\n      var _context$promise;\n\n      setPeerReady(true); // peer object is not null anymore\n\n      context == null ? void 0 : (_context$promise = context.promise) == null ? void 0 : _context$promise.then(wrcApi => {\n        resolvedWrcApi.current = wrcApi;\n        setReady(true);\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return _extends({\n    ready,\n    api: resolvedWrcApi.current\n  }, context);\n}\n\nexport { Provider as WebRTCRemoteControlProvider, usePeer };\n//# sourceMappingURL=react.modern.js.map\n","import React from \"react\";\n\nexport default function ErrorsDisplay({ data }: { data: any }) {\n  return (\n    <>\n      ErrorsDisplay\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function CounterDisplay({ count }) {\n  return (\n    <>\n      CounterDisplay\n      <pre>{JSON.stringify(count, null, 2)}</pre>\n    </>\n  );\n}\n","import React, { useCallback, useEffect, useRef } from \"react\";\n\nexport default function RemotesList({ data, onPing, onPingAll }) {\n  const ref = useRef(null);\n  const onPingAllCallback = useCallback(() => {\n    if (onPingAll) {\n      onPingAll();\n    }\n  }, [onPingAll]);\n  const onPingCallback = useCallback(\n    (e) => {\n      if (onPing) {\n        onPing(e.detail.id);\n      }\n    },\n    [onPing],\n  );\n  useEffect(() => {\n    // copy the ref to be able to cleanup the right one if it changed\n    const refCurrent = ref?.current;\n    if (refCurrent) {\n      refCurrent.addEventListener(\"pingAll\", onPingAllCallback);\n      refCurrent.addEventListener(\"ping\", onPingCallback);\n    }\n    return () => {\n      if (ref) {\n        refCurrent.removeEventListener(\"pingAll\", onPingAllCallback);\n        refCurrent.removeEventListener(\"ping\", onPingCallback);\n      }\n    };\n  }, [onPingAllCallback, onPingCallback, ref]);\n  return (\n    <div ref={ref}>\n      RemotesList\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function ConsoleDisplay({ data }: { data: any }) {\n  return (\n    <>\n      ConsoleDisplay\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </>\n  );\n}\n","import { useState } from \"react\";\n\nexport function useLogger() {\n  // const loggerRef = useRef(makeLogger());\n  const [logs, setLogs] = useState([]);\n  const logger = console;\n  return {\n    logger,\n    logs,\n  };\n}\n\n// inspired by https://usehooks.com/useLocalStorage/\nexport function useSessionStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    if (typeof window === \"undefined\") {\n      return initialValue;\n    }\n    try {\n      // Get from local storage by key\n      const item = window.sessionStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to sessionStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to session storage\n      if (typeof window !== \"undefined\") {\n        window.sessionStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n","import React, { useEffect, useState } from \"react\";\nimport { usePeer } from \"@webrtc-remote-control/react\";\n\nimport ErrorsDisplay from \"./ErrorsDisplay\";\nimport CounterDisplay from \"./CounterDisplay\";\nimport RemotesList from \"./RemotesList\";\nimport ConsoleDisplay from \"./ConsoleDisplay\";\n\nimport { useLogger } from \"./react-common\";\n\nconst MASTER_PERSISTANCE_COUNTERS_SESSION_STORAGE_KEY =\n  \"master-persist-counters\";\n\nexport function persistCountersToStorage(counters) {\n  let payload;\n  try {\n    payload = JSON.stringify(\n      counters.reduce((acc, cur) => {\n        acc[cur.peerId] = cur.counter;\n        return acc;\n      }, {}),\n    );\n  } catch {\n    payload = JSON.stringify({});\n  }\n  sessionStorage.setItem(\n    MASTER_PERSISTANCE_COUNTERS_SESSION_STORAGE_KEY,\n    payload,\n  );\n}\n\nexport function getCountersFromStorage() {\n  try {\n    return JSON.parse(\n      sessionStorage.getItem(MASTER_PERSISTANCE_COUNTERS_SESSION_STORAGE_KEY),\n    );\n  } catch {\n    return {};\n  }\n}\n\nexport function counterReducer(state, { data, id }) {\n  return state.reduce((acc, cur) => {\n    if (cur.peerId === id) {\n      switch (data.type) {\n        case \"COUNTER_INCREMENT\":\n          acc.push({\n            ...cur,\n            counter: cur.counter + 1,\n          });\n          break;\n        case \"COUNTER_DECREMENT\":\n          acc.push({\n            ...cur,\n            counter: cur.counter - 1,\n          });\n          break;\n        case \"REMOTE_SET_NAME\":\n          acc.push({\n            ...cur,\n            name: data.name,\n          });\n          break;\n        default:\n          acc.push(cur);\n          break;\n      }\n    } else {\n      acc.push(cur);\n    }\n    return acc;\n  }, []);\n}\n\nexport function globalCount(counters) {\n  return counters.reduce((acc, { counter }) => counter + acc, 0);\n}\n\nexport default function Master() {\n  const { logs, logger } = useLogger();\n  const [peerId, setPeerId] = useState(null);\n  const [remotesList, setRemotesList] = useState([]);\n  const [errors, setErrors] = useState(null);\n\n  const { ready, api, peer, humanizeError } = usePeer();\n\n  const onRemoteConnect = ({ id }) => {\n    const countersFromStorage = getCountersFromStorage();\n    logger.log({ event: \"remote.connect\", payload: { id } });\n    setRemotesList((counters) => [\n      ...counters,\n      { counter: countersFromStorage?.[id] ?? 0, peerId: id },\n    ]);\n  };\n  const onRemoteDisconnect = ({ id }) => {\n    logger.log({ event: \"remote.disconnect\", payload: { id } });\n    setRemotesList((counters) =>\n      // eslint-disable-next-line no-shadow\n      counters.filter(({ peerId }) => peerId !== id),\n    );\n  };\n  const onData = ({ id }, data) => {\n    logger.log({ event: \"data\", data, id });\n    setRemotesList((counters) => {\n      const state = counterReducer(counters, { data, id });\n      persistCountersToStorage(state);\n      return state;\n    });\n  };\n  const onPeerError = (error) => {\n    setPeerId(null);\n    logger.error({ event: \"error\", error });\n    setErrors([humanizeError(error)]);\n  };\n\n  useEffect(() => {\n    if (peer) {\n      peer.on(\"error\", onPeerError);\n    }\n    return () => {\n      if (peer) {\n        peer.off(\"error\", onPeerError);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [peer]);\n\n  useEffect(() => {\n    if (ready) {\n      setPeerId(peer.id);\n      logger.log({\n        event: \"open\",\n        comment: \"Master connected\",\n        payload: { id: peer.id },\n      });\n      api.on(\"remote.connect\", onRemoteConnect);\n      api.on(\"remote.disconnect\", onRemoteDisconnect);\n      api.on(\"data\", onData);\n    }\n    return () => {\n      console.log(\"Master.jsx.cleanup\");\n      if (ready) {\n        api.off(\"remote.connect\", onRemoteConnect);\n        api.off(\"remote.disconnect\", onRemoteDisconnect);\n        api.off(\"data\", onData);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ready]);\n  return (\n    <>\n      <ErrorsDisplay data={errors} />\n      {/* {peerId ? <QrcodeDisplay data={makeRemotePeerUrl(peerId)} /> : null}\n      <OpenRemote peerId={peerId} /> */}\n      {peerId && (\n        <div>\n          <a\n            href={`${location.href}:${peerId}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {peerId}\n          </a>\n        </div>\n      )}\n      <div>\n        Global counter: <CounterDisplay count={globalCount(remotesList)} />\n      </div>\n      <RemotesList\n        data={remotesList}\n        onPingAll={() => {\n          if (ready) {\n            // api.sendAll({\n            //   type: \"PING\",\n            //   date: new Date(),\n            // });\n          }\n        }}\n        onPing={(id) => {\n          if (ready) {\n            // api.sendTo(id, {\n            //   type: \"PING\",\n            //   date: new Date(),\n            // });\n          }\n        }}\n      />\n      <ConsoleDisplay data={[...logs].reverse()} />\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function RemoteCountControl({\n  onIncrement,\n  onDecrement,\n  disabled,\n}) {\n  return (\n    <div className=\"counter-control\">\n      <button\n        type=\"button\"\n        className=\"counter-control-add\"\n        onClick={() => onIncrement()}\n        style={{ marginRight: \"2px\" }}\n        disabled={disabled}\n      >\n        +\n      </button>\n      <button\n        type=\"button\"\n        className=\"counter-control-sub\"\n        onClick={() => onDecrement()}\n        style={{ marginLeft: \"2px\" }}\n        disabled={disabled}\n      >\n        -\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function RemoteNameControl({\n  onChangeName,\n  onConfirmName,\n  name,\n  disabled,\n}) {\n  return (\n    <form\n      className=\"form-set-name\"\n      action=\".\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        onConfirmName((e.target as any).name.value);\n      }}\n    >\n      <label>\n        <input\n          type=\"text\"\n          placeholder=\"Enter name\"\n          onChange={(e) => onChangeName(e.target.value)}\n          value={name}\n          disabled={disabled}\n        />\n        <button type=\"submit\" disabled={disabled}>\n          OK\n        </button>\n      </label>\n    </form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { usePeer } from \"@webrtc-remote-control/react\";\n\nimport ErrorsDisplay from \"./ErrorsDisplay\";\nimport RemoteCountControl from \"./RemoteCountControl\";\nimport RemoteNameControl from \"./RemoteNameControl\";\nimport ConsoleDisplay from \"./ConsoleDisplay\";\n\nimport { useLogger, useSessionStorage } from \"./react-common\";\n\nexport default function Remote() {\n  const { logs, logger } = useLogger();\n  const [peerId, setPeerId] = useState(null);\n  const [name, setName] = useSessionStorage(\"remote-name\", \"\");\n  const [errors, setErrors] = useState(null);\n\n  const { ready, api, peer, humanizeError } = usePeer();\n\n  const onRemoteDisconnect = (payload) => {\n    logger.log({ event: \"remote.disconnect\", payload });\n  };\n  const onRemoteReconnect = (payload) => {\n    logger.log({ event: \"remote.reconnect\", payload });\n    if (name) {\n      (api as any).send({ type: \"REMOTE_SET_NAME\", name });\n    }\n  };\n  const onPeerError = (error) => {\n    setPeerId(null);\n    logger.error({ event: \"error\", error });\n    setErrors([humanizeError(error)]);\n  };\n  const onData = (_, data) => {\n    logger.log({ event: \"data\", data });\n    // if (data.type === \"PING\") {\n    //   window?.frameworkIconPlay();\n    // }\n  };\n\n  useEffect(() => {\n    if (peer) {\n      peer.on(\"error\", onPeerError);\n    }\n    return () => {\n      if (peer) {\n        peer.off(\"error\", onPeerError);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [peer]);\n\n  useEffect(() => {\n    if (ready) {\n      setPeerId(peer.id);\n      logger.log({\n        event: \"open\",\n        comment: \"Remote connected\",\n        payload: { id: peer.id },\n      });\n      api.on(\"remote.disconnect\", onRemoteDisconnect);\n      api.on(\"remote.reconnect\", onRemoteReconnect);\n      api.on(\"data\", onData);\n      if (name) {\n        (api as any).send({ type: \"REMOTE_SET_NAME\", name });\n      }\n    }\n    return () => {\n      console.log(\"Remote.jsx.cleanup\");\n      if (ready) {\n        api.off(\"remote.disconnect\", onRemoteDisconnect);\n        api.off(\"remote.reconnect\", onRemoteReconnect);\n        api.off(\"data\", onData);\n      }\n    };\n  }, [ready]);\n\n  function onIncrement() {\n    if (ready) {\n      (api as any).send({ type: \"COUNTER_INCREMENT\" });\n    }\n  }\n  function onDecrement() {\n    if (ready) {\n      (api as any).send({ type: \"COUNTER_DECREMENT\" });\n    }\n  }\n  function onChangeName(value) {\n    setName(value);\n  }\n  function onConfirmName() {\n    if (ready) {\n      (api as any).send({ type: \"REMOTE_SET_NAME\", name });\n    }\n  }\n  return (\n    <>\n      <ErrorsDisplay data={errors} />\n      <RemoteCountControl\n        onIncrement={onIncrement}\n        onDecrement={onDecrement}\n        disabled={!peerId}\n      />\n      <RemoteNameControl\n        onChangeName={onChangeName}\n        name={name}\n        onConfirmName={onConfirmName}\n        disabled={!peerId}\n      />\n      <p>\n        Check the counter updating in real-time on the original page, thanks to\n        WebRTC.\n      </p>\n      <ConsoleDisplay data={[...logs].reverse()} />\n    </>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport Peer from \"peerjs\";\nimport { WebRTCRemoteControlProvider } from \"@webrtc-remote-control/react\";\nimport Master from \"./Master\";\nimport Remote from \"./Remote\";\n\nexport const API_URL = process.env.API_URL || \"\";\n\nconst VITE_USE_LOCAL_PEER_SERVER = true;\n\nexport function getPeerjsConfig() {\n  // when using the local signaling server\n  // if (import.meta.env.VITE_USE_LOCAL_PEER_SERVER) {\n  if (VITE_USE_LOCAL_PEER_SERVER) {\n    return {\n      host: \"localhost\",\n      port: 9000,\n      path: \"/myapp\",\n    };\n  }\n  // // default case, we use the alternate server since on some mobile carriers (orange - France)\n  // the default host 0.peerjs.com hangs on forever - see https://github.com/peers/peerjs/issues/948#issuecomment-1107437915\n  // todo what if this fix triggers the same kind of problem on other carriers ? implement some kind of balancing ?\n  return {\n    host: \"0.peerjs.com\",\n    port: 443,\n    path: \"/\",\n  };\n}\n\n// https://github.com/topheman/webrtc-remote-control\nexport default function Section() {\n  const [, masterPeerId = null] = useMemo(\n    () => decodeURI(location.hash).match(/^#[^:]+:(.+)?/) || [],\n    [],\n  );\n  const mode = useMemo(\n    () => (masterPeerId ? \"remote\" : \"master\"),\n    [masterPeerId],\n  );\n\n  console.log({ masterPeerId, mode });\n\n  return (\n    <section>\n      <h2>WebRtc</h2>\n      {mode && (\n        <WebRTCRemoteControlProvider\n          mode={mode}\n          init={({ getPeerId }) =>\n            new Peer(\n              getPeerId(),\n              // line bellow is optional - you can rely on the signaling server exposed by peerjs\n              getPeerjsConfig(),\n            )\n          }\n          masterPeerId={masterPeerId}\n          sessionStorageKey=\"webrtc-remote-control-peer-id-react\"\n        >\n          {mode === \"remote\" ? <Remote /> : <Master />}\n        </WebRTCRemoteControlProvider>\n      )}\n    </section>\n  );\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n"],"names":["module","exports","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","o","Object","assign","e","arguments","length","n","t","prototype","hasOwnProperty","call","apply","this","isConnectionFromRemote","metadata","connMetadata","sessionStorageKey","humanErrors","r","mapping","withTechicalErrorMessage","disconnected","network","default","type","message","s","getPeerId","i","setPeerIdToSessionStorage","a","sessionStorage","getItem","setItem","humanizeError","__proto__","bindConnection","Promise","Map","sendTo","get","send","sendAll","values","forEach","on","bind","off","set","peer","emit","id","console","log","from","delete","prepareUtils","c","warning","d","connect","serialization","window","addEventListener","disconnect","MyContext","createContext","Provider","children","mode","masterPeerId","init","allowedMode","includes","map","join","utils","providerValue","useRef","promise","useEffect","current","undefined","then","value","_extends","target","source","key","usePeer","ready","setReady","useState","setPeerReady","context","useContext","resolvedWrcApi","resolve","_context$promise","wrcApi","api","ErrorsDisplay","data","React","JSON","stringify","CounterDisplay","count","RemotesList","onPing","onPingAll","ref","onPingAllCallback","useCallback","onPingCallback","detail","refCurrent","removeEventListener","ConsoleDisplay","useLogger","logs","setLogs","logger","propTypes","MASTER_PERSISTANCE_COUNTERS_SESSION_STORAGE_KEY","Master","peerId","setPeerId","remotesList","setRemotesList","errors","setErrors","onRemoteConnect","countersFromStorage","parse","getCountersFromStorage","event","payload","counters","counter","onRemoteDisconnect","filter","onData","state","reduce","acc","cur","push","counterReducer","persistCountersToStorage","onPeerError","error","comment","href","rel","reverse","RemoteCountControl","onIncrement","onDecrement","disabled","className","onClick","style","marginRight","marginLeft","RemoteNameControl","onChangeName","onConfirmName","action","onSubmit","preventDefault","placeholder","onChange","Remote","setName","storedValue","setStoredValue","item","valueToStore","Function","useSessionStorage","onRemoteReconnect","_","VITE_USE_LOCAL_PEER_SERVER","Section","useMemo","decodeURI","hash","match","WebRTCRemoteControlProvider","Peer","host","port","path","has","prefix","Events","EE","fn","once","addListener","emitter","TypeError","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","create","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","Array","listenerCount","a1","a2","a3","a4","a5","args","len","removeListener","j","removeAllListeners","prefixed"],"sourceRoot":""}