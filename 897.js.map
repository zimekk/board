{"version":3,"file":"897.js","mappings":"kKAIO,MAAMA,EAEX,GAAIC,WAAUC,cAAgB,GAAED,MAAaC,SAA7C,CACE,IAAIC,IAAIC,OAAOC,SAASC,OAM5B,SAASC,IACP,MAAMC,GAAWC,EAAAA,EAAAA,UAwBjB,OAdAC,EAAAA,EAAAA,YAAU,KAER,GAAIC,IAAAA,cAAqB,CACvB,MAAMC,EAAQJ,EAASK,QACjBC,EAAYH,IAAAA,aAAmB,CACnCI,KAAM,MACNC,IAAM,GAAEhB,oBAEVc,EAAUG,mBAAmBL,GAC7BE,EAAUI,MAEZ,IACC,IAGDC,EAAAA,cAAA,WACEA,EAAAA,cAAA,SAAOC,IAAKZ,EAAUa,MAAM,MAAMC,OAAO,MAAMC,UAAQ,EAACC,UAAQ,IAGtE,CAEe,SAASC,IACtB,OACEN,EAAAA,cAAA,eACEA,EAAAA,cAAA,UAAI,UACJA,EAAAA,cAACZ,EAAM,MACPY,EAAAA,cAAA,KAAGb,KAAO,GAAEN,kBAA2B0B,OAAO,UAAS,WAK7D,CA7CAC,QAAQC,IAAI,CAAE5B,a","sources":["webpack://@dev/web/../stream/src/containers/index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\n// import { MediaPlayer } from \"dashjs\";\nimport flvjs from \"pro-flv.js\";\n\nexport const MEDIA_URL =\n  process.env.MEDIA_URL ||\n  (({ protocol, hostname }) => `${protocol}//${hostname}:7000`)(\n    new URL(window.location.href),\n  );\n\nconsole.log({ MEDIA_URL });\n\n// https://github.com/illuspas/Node-Media-Server\nfunction Stream() {\n  const videoRef = useRef();\n\n  // useEffect(() => {\n  //   const video = videoRef.current;\n  //   const url = \"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd\";\n  //   // const url = \"http://192.168.2.22:7000/live/MAC/index.mpd\";\n  //   const player = MediaPlayer().create();\n  //   player.initialize(video, url, false);\n  // }, []);\n\n  useEffect(() => {\n    // https://github.com/illuspas/pro-fiv.js\n    if (flvjs.isSupported()) {\n      const video = videoRef.current;\n      const flvPlayer = flvjs.createPlayer({\n        type: \"flv\",\n        url: `${MEDIA_URL}/live/NZXT.flv`,\n      });\n      flvPlayer.attachMediaElement(video);\n      flvPlayer.load();\n      // flvPlayer.play();\n    }\n  }, []);\n\n  return (\n    <div>\n      <video ref={videoRef} width=\"480\" height=\"270\" autoPlay controls></video>\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <section>\n      <h2>Stream</h2>\n      <Stream />\n      <a href={`${MEDIA_URL}/admin/streams`} target=\"_blank\">\n        streams\n      </a>\n    </section>\n  );\n}\n"],"names":["MEDIA_URL","protocol","hostname","URL","window","location","href","Stream","videoRef","useRef","useEffect","flvjs","video","current","flvPlayer","type","url","attachMediaElement","load","React","ref","width","height","autoPlay","controls","Section","target","console","log"],"sourceRoot":""}